<!DOCTYPE html>
<html lang="en">

<!-- Head tag (contains Google-Analytics、Baidu-Tongji)-->
<head>
  <!-- Google Analytics -->
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-xxxxxx-xx"></script>
    <script type="text/javascript">
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-xxxxxx-xx');
    </script>
  

  <!-- Baidu Tongji -->
  
    <script type="text/javascript">
      // Originial
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  <!-- Baidu Push -->
  
    <script>
      (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
      })();
    </script>
  

  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

  <meta name="google-site-verification" content="lxDfCplOZbIzjhG34NuQBgu2gdyRlAtMB4utP5AgEBc"/>
  <meta name="baidu-site-verification" content="PpzM9WxOJU"/>

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="It&#39;s an IT blog..."/>
  <meta name="keyword" content="学习, 生活, 爱好"/>
  <link rel="shortcut icon" href="/img/avatar/roguerabbit.jpg"/>

  <!-- Place this tag in your head or just before your close body tag. -->
  <script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script>

  
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/beantech.min.css"/>

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css"/>
    <link rel="stylesheet" href="/css/widget.css"/>
    <link rel="stylesheet" href="/css/rocket.css"/>
    <link rel="stylesheet" href="/css/signature.css"/>
    <link rel="stylesheet" href="/css/catalog.css"/>
    <link rel="stylesheet" href="/css/livemylife.css"/>

    
      <!-- wave start -->
      <link rel="stylesheet" href="/css/wave.css"/>
      <!-- wave end -->
    

    
      <!-- top start (article top hot config) -->
      <link rel="stylesheet" href="/css/top.css"/>
      <!-- top end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="/css/scroll.css"/>
      <!-- ThemeColor end -->
    

    
      <!-- viewer start (Picture preview) -->
      <link rel="stylesheet" href="/css/viewer.min.css"/>
      <!-- viewer end -->
    

    
      <!-- Search start -->
      <link rel="stylesheet" href="/css/search.css"/>
      <!-- Search end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="/css/themecolor.css"/>
      <!-- ThemeColor end -->
    

    

    
      <!-- gitalk start -->
      <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> -->
      <link rel="stylesheet" href="/css/gitalk.css"/>
      <!-- gitalk end -->
    
  

  <!-- Custom Fonts -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- Hux change font-awesome CDN to qiniu -->
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Hux Delete, sad but pending in China <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> <link
  href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/ css'> -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->

  <!-- ga & ba script hoook -->
  <link rel="canonical" href="https://github.com/lidzknyy/lidzknyy.github.io/note/java笔记/">
  <title>
    
      java笔记 - zknyy
    
  </title>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->

	<body ontouchstart="" class="body--light body--dark">


		<!-- ThemeColor -->
		
		<!-- ThemeColor -->
<style type="text/css">
  .body--light {
    --light-mode: none;
    --dark-mode: block;
  }
  .body--dark {
    --light-mode: block;
    --dark-mode: none;
  }
  i.mdui-icon.material-icons.light-mode {
    display: var(--light-mode);
  }
  i.mdui-icon.material-icons.dark-mode {
    display: var(--dark-mode);
  }
</style>
<div class="toggle" onclick="document.body.classList.toggle('body--dark')">
  <i class="mdui-icon material-icons light-mode"></i>
  <i class="mdui-icon material-icons dark-mode"></i>
</div>
<script>
  //getCookieValue
  function getCookieValue(a) {
    var b = document.cookie.match('(^|[^;]+)\\s*' + a + '\\s*=\\s*([^;]+)');
    return b
      ? b.pop()
      : '';
  }
  let themeMode = 'dark';
  if (getCookieValue('sb-color-mode') && (getCookieValue('sb-color-mode') !== themeMode)) {
    let dbody = document.body.classList;
    themeMode === 'dark' ? dbody.remove('body--dark') : dbody.add('body--dark');
  }

  //setCookieValue
  var toggleBtn = document.querySelector(".toggle");
  toggleBtn.addEventListener("click", function () {
    var e = document.body.classList.contains("body--dark");
    var cookieString = e
      ? "dark"
      : "light";
    var exp = new Date();
    exp.setTime(exp.getTime() + 3 * 24 * 60 * 60 * 1000); //3天过期
    document.cookie = "sb-color-mode=" + cookieString + ";expires=" + exp.toGMTString() + ";path=/";
  });
</script>

		

		<!-- Gitter -->
		

		<!-- Navigation (contains search)-->
		<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">再看你一眼</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <!-- Known Issue, found by Hux: <nav>'s height woule be hold on by its content. so, when navbar scale out, the <nav> will cover tags. also mask any touch event of tags, unfortunately. -->
    <div id="huxblog_navbar">
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/">首页</a>
          </li>

          
          
          
          
          <li>
            <a href="/about/">
              
              关于
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/archive/">
              
              归档
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/categories/">
              
              分类
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/tags/">
              
              标签
              
              
            </a>
          </li>
          
          

          
          <li>
            <a class="popup-trigger">
              <span class="search-icon"></span>搜索</a>
          </li>
          

          <!-- LangSelect -->
          
          
          
          
          
        </ul>
      </div>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav>
<!-- progress -->
<div id="progress">
  <div class="line" style="width: 0%;"></div>
</div>

<script>
  // Drop Bootstarp low-performance Navbar Use customize navbar with high-quality material design animation in high-perf jank-free CSS3 implementation
  var $body = document.body;
  var $toggle = document.querySelector('.navbar-toggle');
  var $navbar = document.querySelector('#huxblog_navbar');
  var $collapse = document.querySelector('.navbar-collapse');

  $toggle.addEventListener('click', handleMagic)

  function handleMagic(e) {
    if ($navbar.className.indexOf('in') > 0) {
      // CLOSE
      $navbar.className = " ";
      // wait until animation end.
      setTimeout(function() {
        // prevent frequently toggle
        if ($navbar.className.indexOf('in') < 0) {
          $collapse.style.height = "0px"
        }
      }, 400)
    } else {
      // OPEN
      $collapse.style.height = "auto"
      $navbar.className += " in";
    }
  }
</script>


		<!-- Post Header (contains intro-header、signature、wordcount、busuanzi、waveoverlay) -->
		<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->

  <style type="text/css">
    .body--light {
      /* intro-header */
      --intro-header-background-image-url-home: url('/img/header_img/newhome_bg.jpg');
      --intro-header-background-image-url-post: url('/img/header_img/lml_bg.jpg');
      --intro-header-background-image-url-page: url('//img/header_img/lml_bg.jpg');
    }
    .body--dark {
      --intro-header-background-image-url-home: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('/img/header_img/newhome_bg.jpg');
      --intro-header-background-image-url-post: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('/img/header_img/lml_bg.jpg');
      --intro-header-background-image-url-page: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('//img/header_img/lml_bg.jpg');
    }

    header.intro-header {
       /*post*/
        background-image: var(--intro-header-background-image-url-post);
        /* background-image: url('/img/header_img/lml_bg.jpg'); */
      
    }

    
      #signature {/*signature*/
        background-image: url('/img/signature/nickname.png');
      }
    
  </style>





<header class="intro-header">
  <!-- Signature -->
  <div id="signature">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          
          <div class="post-heading">
            <div class="tags">
              
              <a class="tag" href="/tags/#java" title="java">java</a>
              
            </div>
            <h1>java笔记</h1>
            <h2 class="subheading"></h2>
            <span class="meta">
              Posted by lidzknyy on
              2021-08-30
            </span>


            
            <!-- WordCount start -->
            <div class="blank_box"></div>
            <span class="meta">
              Estimated Reading Time <span class="post-count">42</span> Minutes
            </span>
            <div class="blank_box"></div>
            <span class="meta">
              Words <span class="post-count">9.9k</span> In Total
            </span>
            <div class="blank_box"></div>
            <!-- WordCount end -->
            
            
            <!-- 不蒜子统计 start -->
            <span class="meta" id="busuanzi_container_page_pv">
              Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
            </span>
            <!-- 不蒜子统计 end -->
            


          </div>
          
        </div>
      </div>
    </div>
  </div>

  
  <!-- waveoverlay start -->
  <div class="preview-overlay">
    <svg class="preview-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
      </defs>
      <g class="preview-parallax">
        <use xlink:href="#gentle-wave" x="48" y="0" fill=var(--gentle-wave1)></use>
        <use xlink:href="#gentle-wave" x="48" y="3" fill=var(--gentle-wave2)></use>
        <use xlink:href="#gentle-wave" x="48" y="5" fill=var(--gentle-wave3)></use>
        <use xlink:href="#gentle-wave" x="48" y="7" fill=var(--gentle-wave)></use>
      </g>
    </svg>
  </div>
  <!-- waveoverlay end -->
  

</header>



		<!-- Main Content (Post contains
	Pager、
	tip、
	socialshare、
	gitalk、gitment、disqus-comment、
	Catalog、
	Sidebar、
	Featured-Tags、
	Friends Blog、
	anchorjs、
	) -->
		<!-- Modify by Yu-Hsuan Yen -->
<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <!-- Post Container -->
      <div class="col-lg-8 col-lg-offset-1 col-md-10 col-md-offset-1 post-container">

        <h3 id="多态">多态</h3>
<p>方法或对象具有多种形态，多态建立在封装和继承基础之上。</p>
<p>方法的多态：重写和重载就体现多态。</p>
<p>对象的多态：</p>
<ul>
<li>一个对象的编译类型和运行类型可以不一致。</li>
<li>编译类型在定义对象时，就确定了，不能改变。</li>
<li>运行类型是可以变化的。</li>
<li>编译类型看 = 左边，运行类型看 = 右边。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = <span class="keyword">new</span> Dog();		<span class="comment">// animal 的编译类型是 Animal, 运行类型是 Dog</span></span><br><span class="line">animal = <span class="keyword">new</span> Cat(); 			<span class="comment">// animal 的运行类型变为 Cat， 但编译类型还是 Animal</span></span><br></pre></td></tr></table></figure>
<p>向上转型：父类引用指向子类对象</p>
<ul>
<li>可以调用父类中的所有成员【需遵守访问权限】</li>
<li>不能调用子类的特有成员【因为在编译阶段，能调用哪些由编译类型决定】</li>
<li>最终运行效果看子类的具体实现【调用方法时，先从运行类型中寻找，然后逐级向上查找。==属性没有重写，属性的值看编译类型==】</li>
</ul>
<p>向下转型：将父类引用强转为子类对象</p>
<ul>
<li>只能强转父类引用，不能强转父类对象</li>
<li>要求父类的引用必须指向的是当前目标类型的对象</li>
<li>向下转型后，可以调用子类类型中的特有成员</li>
</ul>
<h4 id="动态绑定机制">动态绑定机制</h4>
<p>当调用对象方法时，该方法会和该对象的==运行类型==绑定。</p>
<p>当调用对象属性时，没有动态绑定机制，哪里声明哪里使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getI() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">20</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    public int sum() &#123;</span></span><br><span class="line"><span class="comment">        return getI() + 10;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    public int sum1() &#123;</span></span><br><span class="line"><span class="comment">        return i + 10;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">// a 的编译类型 A，运行类型 B</span></span><br><span class="line">		A a = <span class="keyword">new</span> B();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 1.在 B 中找 sum() 方法，没有找到</span></span><br><span class="line">        <span class="comment">// 2.在 B 的父类 A 中找 sum() 方法，调用 getI() 方法</span></span><br><span class="line">        <span class="comment">// 3.动态绑定机制，a 与其运行类型 B 绑定，调用 B 中的 getI() 方法，返回 B 的属性 i = 20</span></span><br><span class="line">        System.out.println(a.sum());	<span class="comment">// 30</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 1.在 B 中找 sum()1 方法，没有找到</span></span><br><span class="line">        <span class="comment">// 2.在 B 的父类 A 中找 sum()1 方法，返回 i + 10</span></span><br><span class="line">        <span class="comment">// 3.属性没有动态绑定机制，所以返回 A 的属性 i = 10</span></span><br><span class="line">        System.out.println(a.sum1());	<span class="comment">// 20</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="多态数组">多态数组</h4>
<p>数组定义类型为父类类型，保存的元素类型为子类类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Student【study(), say()】，Teacher【teach(), say()】 extends Person【say()】</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">    Person[] persons = <span class="keyword">new</span> Person[<span class="number">5</span>];</span><br><span class="line">    <span class="comment">// params: name, age</span></span><br><span class="line">    persons[<span class="number">0</span>] = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// params: name, age, score</span></span><br><span class="line">    persons[<span class="number">1</span>] = <span class="keyword">new</span> Student(<span class="string">&quot;小红&quot;</span>, <span class="number">20</span>, <span class="number">61</span>);</span><br><span class="line">    persons[<span class="number">2</span>] = <span class="keyword">new</span> Student(<span class="string">&quot;小明&quot;</span>, <span class="number">21</span>, <span class="number">59</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// params: name, age, salary</span></span><br><span class="line">    persons[<span class="number">3</span>] = <span class="keyword">new</span> Teacher(<span class="string">&quot;王刚&quot;</span>, <span class="number">43</span>, <span class="number">1000.5</span>);</span><br><span class="line">    persons[<span class="number">4</span>] = <span class="keyword">new</span> Teacher(<span class="string">&quot;刘兰&quot;</span>, <span class="number">37</span>, <span class="number">1550.0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(Person person : persons) &#123;</span><br><span class="line">        <span class="comment">// 多态</span></span><br><span class="line">        person.say();</span><br><span class="line">        <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Student) &#123;</span><br><span class="line">            <span class="comment">// 向下转型，调用Student特有方法</span></span><br><span class="line">            (Student)person.study();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Teacher) &#123;</span><br><span class="line">            <span class="comment">// 向下转型，调用Teacher特有方法</span></span><br><span class="line">            (Student)person.teach();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="多态参数">多态参数</h4>
<p>方法定义的形参类型为父类类型，实参类型允许为子类类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getInfo</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Student) &#123;</span><br><span class="line">        <span class="keyword">return</span> person.getName + <span class="string">&quot;获得成绩：&quot;</span> + (Student) person.getScore();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Teacher) &#123;</span><br><span class="line">         <span class="keyword">return</span> person.getName + <span class="string">&quot;获得薪水：&quot;</span> + (Teacher) person.getSalary();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">    Student student = <span class="keyword">new</span> Student(<span class="string">&quot;小红&quot;</span>, <span class="number">20</span>, <span class="number">61</span>);</span><br><span class="line">    getInfo(student);</span><br><span class="line">    </span><br><span class="line">    Teacher teacher = <span class="keyword">new</span> Teacher(<span class="string">&quot;刘兰&quot;</span>, <span class="number">37</span>, <span class="number">1550.0</span>);</span><br><span class="line">    getInfo(teacher);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="instanceof">instanceof</h3>
<p>语法：对象名  instanceof  类名</p>
<p>判断==对象的运行类型==是否为==XX类型==或==XX类型的子类型==。</p>
<h3 id="transient-关键字">transient 关键字</h3>
<ul>
<li>transient 只能修饰成员变量，不能修饰类和方法</li>
<li>本地变量不能被 transient 修饰，如果修饰的为用户自定义类变量，则该类需要实现 Serializable 接口</li>
<li>transient 变量不参与序列化，序列化后无法通过反序列化进行访问</li>
<li>使用场景：
<ul>
<li>某属性值可以通过其他属性值推导出来，则该属性不需要序列化</li>
<li>安全性信息，例如：密码，一般情况下不能离开JVM，不能被序列化</li>
</ul>
</li>
</ul>
<h3 id="final修饰符">final修饰符</h3>
<table>
<thead>
<tr>
<th>修饰范围</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>类</td>
<td>不能被继承</td>
</tr>
<tr>
<td>属性</td>
<td>不能被修改<br/>初始化方式：<br/>1、声明时初始化<br/>2、构造方法中初始化<br/>3、代码块中初始化<br/><br/>如果属性为static修饰：<br/>1、声明时初始化<br/>2、静态代码块中初始化</td>
</tr>
<tr>
<td>方法</td>
<td>不能被重写</td>
</tr>
<tr>
<td>局部变量</td>
<td>不能被修改，声明变量时必须初始化</td>
</tr>
<tr>
<td>对象</td>
<td>对象的属性值可以修改，但是对象的地址不能被修改<br/>Student s1 = new Student(100, “张三”);<br/>Student s2 = new Student(101, “李四”);<br/><a target="_blank" rel="noopener" href="http://s1.name">s1.name</a> = “王五”;    //  √<br/>s1 = s2;   // ×</td>
</tr>
</tbody>
</table>
<p>注：</p>
<p>final不能修饰构造方法。</p>
<p>final和static搭配使用，效率更高，不会导致类加载，底层编译器做了优化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(Cat.name);	<span class="comment">//汤姆猫。静态代码块没有被加载</span></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(Cat.desc);	<span class="comment">//类被加载，我是一只猫。静态代码块被加载</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String name =  <span class="string">&quot;汤姆猫&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String desc = <span class="string">&quot;我是一只猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;类被加载&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="enum枚举">enum枚举</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Week week : Week.values()) &#123;</span><br><span class="line">            System.out.println(week);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//枚举类隐式继承Enum类，所以不能继承其它类，但可以实现接口</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Week</span> </span>&#123;</span><br><span class="line">    <span class="comment">//枚举对象必须写在枚举类的开头，且以【逗号】分隔</span></span><br><span class="line">    MONDAY(<span class="string">&quot;星期一&quot;</span>),</span><br><span class="line">    TUESDAY(<span class="string">&quot;星期二&quot;</span>),</span><br><span class="line">    WEDNESDAY(<span class="string">&quot;星期三&quot;</span>),</span><br><span class="line">    THURSDAY(<span class="string">&quot;星期四&quot;</span>),</span><br><span class="line">    FRIDAY(<span class="string">&quot;星期五&quot;</span>),</span><br><span class="line">    SATURDAY(<span class="string">&quot;星期六&quot;</span>),</span><br><span class="line">    SUNDAY(<span class="string">&quot;星期日&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line"></span><br><span class="line">    Week(String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Exception异常">Exception异常</h3>
<p><img src="image-20220721135028990.png" alt="image-20220721135028990"></p>
<p>Exception分为RuntimeException【运行时异常】和【编译时异常】</p>
<ul>
<li>编译时异常，必须通过try-catch或throws处理；</li>
<li>运行时异常，如果不做处理，会默认使用throws方式处理，最终交给JVM处理，即控制台打印异常信息并中断应用程序；</li>
</ul>
<p>ClassCastException：类型转换异常</p>
<p>常见编译异常：</p>
<ul>
<li>SQLException：数据库操作异常</li>
<li>IOException：文件操作异常</li>
<li>FIleNotFoundException：文件不存在市场</li>
<li>ClassNotFoundException：加载类时，类不存在</li>
<li>EOFException：操作文件，到文件末尾，发生异常</li>
<li>IllegalArguementException：参数异常</li>
</ul>
<p>自定义异常：</p>
<p>继承Exception【编译异常】或RuntimeException【一般情况下，继承运行时异常。好处：可以使用默认处理机制】；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">180</span>;</span><br><span class="line">        <span class="keyword">if</span>(!(age &gt;= <span class="number">0</span> &amp;&amp; age &lt;= <span class="number">120</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> AgeException(<span class="string">&quot;年龄有误！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;正确！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AgeException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AgeException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="image-20220721143735778.png" alt="image-20220721143735778"></p>
<h3 id="String类">String类</h3>
<ul>
<li>
<p>实现了 Serializable 和 Comparable 接口。</p>
<ul>
<li>
<p>Serializable：String 对象可以序列化，可以在网络传输。</p>
</li>
<li>
<p>Comparable：String 对象可以比较大小。</p>
</li>
</ul>
</li>
<li>
<p>String 类是 final 类，不能被继承。</p>
</li>
<li>
<p>String 类的构造方法很多。</p>
</li>
<li>
<p>String 类有属性 private final char[] values; 用于存放字符串内容。 values不可以指向新的地址，但可以修改值。</p>
</li>
</ul>
<h4 id="创建String对象">创建String对象</h4>
<p>方式一：直接赋值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;hello&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>方式二：调用构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>两种创建 String 对象的区别：</p>
<p>方式一：先从常量池查找是否有 “hello” 的数据空间，如果有，直接指向；否则，重新创建，然后指向。s 最终指向的是常量池的空间地址。</p>
<p>方式二：先在堆中创建空间，里面维护了 value 属性，指向常量池的 “hello” 空间。如果常量池中没有 “hello”，重新创建，如果有，直接通过 value 指向。最终指向的是堆中的空间地址。</p>
<p><img src="image-20220721222646503.png" alt="image-20220721222646503"></p>
<h4 id="intern-方法">intern() 方法</h4>
<p>返回字符串的常量池地址，如果常量池没有该字符串，则创建字符串并返回常量池地址。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">String s2 = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">s1 == s2;						<span class="comment">//False</span></span><br><span class="line">s1.intern() == s2.intern();		<span class="comment">//Ture，都返回 “hello” 常量池地址</span></span><br><span class="line">s2 = s2.intern();				<span class="comment">//False, s2指向堆，s2.intern()返回常量池地址</span></span><br></pre></td></tr></table></figure>
<h4 id="String特性">String特性</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">s = <span class="string">&quot;xyz&quot;</span>;			<span class="comment">//共创建了 2 个对象</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;abc&quot;</span> + <span class="string">&quot;def&quot;</span>;	<span class="comment">//共创建了 1 个对象</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String a = <span class="string">&quot;hello&quot;</span>;		<span class="comment">//指向常量池 hello</span></span><br><span class="line">String b = <span class="string">&quot;abc&quot;</span>;		<span class="comment">//指向常量池 abc</span></span><br><span class="line">String c = a + b;		<span class="comment">//指向堆，value指向常量池 helloabc</span></span><br><span class="line"></span><br><span class="line">c == <span class="string">&quot;helloabc&quot;</span>;	<span class="comment">//False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//String c = a + b; </span></span><br><span class="line"><span class="comment">//底层执行逻辑：</span></span><br><span class="line"><span class="comment">//1. StringBuilder sb = new StringBuilde();</span></span><br><span class="line"><span class="comment">//2. sb.append(a);</span></span><br><span class="line"><span class="comment">//3. sb.append(b);</span></span><br><span class="line"><span class="comment">//4. sb.toString() &#123;return new String(value, 0, count)&#125;	//返回 String 对象</span></span><br></pre></td></tr></table></figure>
<h4 id="StringBuffer">StringBuffer</h4>
<ul>
<li>StringBuffer 对象继承 AbstractStringBuilder 类，字符串内容存储在 AbstractStringBuilder 类的 char[] value 中。</li>
<li>StringBuffer 对象创建时，char[] value 的最小空间为 16.</li>
<li>StringBuffer 对象指向堆空间，字符序列为可变序列，改变字符串内容，不改变地址【注：若改变后的长度太大，则会改变地址】。</li>
</ul>
<h5 id="StringBuffer-String">StringBuffer -&gt; String</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer stringBuffer = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="comment">//方式一：toString()方法</span></span><br><span class="line">String s1 = stringBuffer.toString();</span><br><span class="line"><span class="comment">//方式二：构造方法</span></span><br><span class="line">String s2 = <span class="keyword">new</span> String(stringBuffer);</span><br></pre></td></tr></table></figure>
<h5 id="String-StringBuffer">String -&gt; StringBuffer</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="comment">//方式一：构造方法</span></span><br><span class="line">StringBuffer sb1 = <span class="keyword">new</span> StringBuffer(s);</span><br><span class="line"><span class="comment">//方式二：构造方法 + append()方法</span></span><br><span class="line">StringBuffer sb2 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">sb2.append(s);</span><br></pre></td></tr></table></figure>
<h4 id="StringBuilder">StringBuilder</h4>
<p>StringBuffer的简易版，线程不安全，主要用于单线程。</p>
<h4 id="三者对比">三者对比</h4>
<table>
<thead>
<tr>
<th>类名</th>
<th>区别</th>
</tr>
</thead>
<tbody>
<tr>
<td>String</td>
<td>不可变字符序列，值存储在字符串常量池。<br/>优点：复用性高，多次使用，不用重复创建。<br/>缺点：效率低，如果对字符串需要多次修改，会使大量副本字符串对象残留，降低效率。<br/>使用场景：字符串很少修改，被多个对象引用，比如：配置信息等。</td>
</tr>
<tr>
<td>StringBuffer</td>
<td>可变字符序列，值存储在堆中。<br/>优点：线程安全，可直接在原地址对字符串内容进行修改。<br/>使用场景：字符串存在大量修改操作，且在多线程中。</td>
</tr>
<tr>
<td>StringBuilder</td>
<td>可变字符序列，值存储在堆中，主要用于单线程。<br/>优点：效率最高，可直接在原地址对字符串内容进行修改。<br/>缺点：线程不安全。<br/>使用场景：字符串存在大量修改操作，且在单线程中。</td>
</tr>
</tbody>
</table>
<h3 id="Arrays-类">Arrays 类</h3>
<h4 id="sort">sort()</h4>
<ul>
<li>默认从小到大排序。</li>
<li>自定义排序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arr = &#123;-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>&#125;;</span><br><span class="line"></span><br><span class="line">Arrays.sort(arr, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1 - o2;		<span class="comment">//从小到大</span></span><br><span class="line">        <span class="comment">//return o2 - o1;   //从大到小</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>模拟源码实现接口冒泡排序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysSortCustom</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>&#125;;</span><br><span class="line">        bubble(arr, <span class="keyword">new</span> Comparator() &#123;		<span class="comment">//排序</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (Integer) o2 - (Integer) o1;		<span class="comment">//从大到小排序</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bubble</span><span class="params">(<span class="keyword">int</span>[] arr, Comparator&lt;Integer&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// 大于0，交换，即 arr[j] &lt; arr[j + 1]，故从大到小排序</span></span><br><span class="line">                <span class="keyword">if</span> (c.compare(arr[j], arr[j + <span class="number">1</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    temp = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="binarySearch">binarySearch()</h4>
<ul>
<li>二分查找，使用前提：数组有序</li>
<li>如果找到 key，返回 key 的下标</li>
<li>如果没找到 key， 返回 - ( low - 1 )</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//最后一次查找，在 5 和 8 之间，故 low = 4 + 1</span></span><br><span class="line">        System.out.println(Arrays.binarySearch(arr, <span class="number">6</span>));	<span class="comment">//- (5 + 1)</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// binarySearch() 源码</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch0</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> fromIndex, <span class="keyword">int</span> toIndex,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = fromIndex;</span><br><span class="line">        <span class="keyword">int</span> high = toIndex - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (low + high) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> midVal = a[mid];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (midVal &lt; key)</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (midVal &gt; key)</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> mid; <span class="comment">// key found</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -(low + <span class="number">1</span>);  <span class="comment">// key not found.</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="copyOf">copyOf()</h4>
<ul>
<li>
<p>从数组 arr 中，复制 len 个元素到新数组 newArr</p>
</li>
<li>
<p>如果 len &gt; arr.length，则 newArr 后续空间为 null</p>
</li>
<li>
<p>如果 len &lt; 0，则抛出异常 NegativeArraySizeException</p>
</li>
<li>
<p>该方法底层使用System.arraycopy()</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] newArr = Arrays.copyOf(arr, <span class="number">4</span>);</span><br><span class="line"><span class="comment">//newArr = &#123;-1, 0, 1, 3&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="fill">fill()</h4>
<ul>
<li>填充数组，将数组元素替换为目标值</li>
</ul>
<h4 id="asList">asList()</h4>
<ul>
<li>将 （1, 2, 3, 4）数据转成 List 集合</li>
<li>返回 asList 编译类型 List (接口)</li>
<li>asList 运行类型 java.util.Arrays#ArrayList，是 Arrays 类的静态内部类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AbstractList 实现了 List 接口</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">RandomAccess</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="System类">System类</h3>
<ul>
<li>exit()：退出当前程序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.exit(<span class="number">0</span>)	<span class="comment">// 0 表示“正常状态”退出</span></span><br></pre></td></tr></table></figure>
<ul>
<li>arraycopy()：复制数组元素，比较适合底层调用，一般使用 Arrays.copyOf() 完成复制数组</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] src=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">int</span>[] dest = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * src     	源数组</span></span><br><span class="line"><span class="comment"> * srcPos	源数组开始拷贝位置</span></span><br><span class="line"><span class="comment"> * dest		目标数组</span></span><br><span class="line"><span class="comment"> * destPos	目标数组开始拷贝位置</span></span><br><span class="line"><span class="comment"> * length	拷贝元素个数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">System.arraycopy(src, <span class="number">0</span>, dest, <span class="number">0</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>currentTimeMillens()：返回当前时间距离1970-1-1的毫秒数</li>
<li>gc()：运行垃圾回收机制 System.gc()</li>
</ul>
<h3 id="BigInteger">BigInteger</h3>
<p>实例化：需要使用 “ ”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BigInteger bigInteger = <span class="keyword">new</span> BigInteger(<span class="string">&quot;1599999999999999999999999999999&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注：方法参数都为 BigInteger 对象，返回值也为 BigInteger 对象</span></span><br><span class="line"><span class="function">BigInteger <span class="title">add</span><span class="params">(BigInteger)</span> 		<span class="comment">//加</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">subtract</span><span class="params">(BigInteger)</span>	<span class="comment">//减</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">multiply</span><span class="params">(BigInteger)</span>	<span class="comment">//乘</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">divide</span><span class="params">(BigInteger)</span>	<span class="comment">//除</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">gcd</span><span class="params">(BigInteger)</span>		<span class="comment">//最大公因子</span></span></span><br></pre></td></tr></table></figure>
<h3 id="BigDecimal">BigDecimal</h3>
<p>高精度小数运算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在使用 divide 方法时，可能会抛出 ArithmeticException 异常，原因是 除不尽。</span></span><br><span class="line"><span class="comment">// 解决方法：调用时，指定精度，RoundingMode.CEILING，最高精度与分子精度相同</span></span><br><span class="line">BigDecimal num = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;10.0&quot;</span>);</span><br><span class="line">System.out.println(num.divide(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;3.0&quot;</span>), RoundingMode.CEILING));</span><br></pre></td></tr></table></figure>
<p>RoundingMode 枚举类参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 舍入规则</span></span><br><span class="line">UP			<span class="comment">//两边靠拢，即 1.23 和 -1.23 保留一位小数，结果分别为 1.3 和 -1.3</span></span><br><span class="line">DOWN		<span class="comment">//中间靠拢</span></span><br><span class="line">CEILING		<span class="comment">//向大靠拢</span></span><br><span class="line">FLOOR		<span class="comment">//向小靠拢</span></span><br><span class="line">HALF_UP		<span class="comment">//四舍五入</span></span><br><span class="line">HALF_DOWN	<span class="comment">//五舍六入</span></span><br><span class="line">HALF_EVEN	<span class="comment">//银行家舍入法，左边是偶数，则五舍六入；左边是奇数，则四舍五入</span></span><br><span class="line">UNNECESSARY	<span class="comment">//舍掉的位数不为 0，则抛出 ArithmeticException 异常</span></span><br></pre></td></tr></table></figure>
<h3 id="File类">File类</h3>
<p>文件在程序中是以流的形式操作的。</p>
<p><img src="image-20220726123046665.png" alt="image-20220726123046665"></p>
<ul>
<li>流：数据在数据源（文件）和程序（内存）之间经历的路径。</li>
<li>输入流：数据从数据源（文件）到程序（内存）的路径。</li>
<li>输出流：数据从程序（内存）到数据源（文件）的路径。</li>
</ul>
<p>实例化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(String pathname)				<span class="comment">//根据【文件路径】创建</span></span><br><span class="line">File file = <span class="keyword">new</span> File(File parent, String child)		<span class="comment">//根据【父目录文件 + 子路径】创建</span></span><br><span class="line">File file = <span class="keyword">new</span> File(String parent, STring child)	<span class="comment">//根据【父目录 + 子路径】创建</span></span><br><span class="line"></span><br><span class="line">file.createNewFile() <span class="comment">//创建新文件</span></span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;d:\\data.txt&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;file.getName() = &quot;</span> + file.getName());	<span class="comment">//获取文件名</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getAbsolutePath() = &quot;</span> + file.getAbsolutePath());	<span class="comment">//绝对路径</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getParent() = &quot;</span> + file.getParent());				<span class="comment">//父目录，返回String类型</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getParentFile() = &quot;</span> + file.getParentFile());		<span class="comment">//父目录，返回File类型</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.length() = &quot;</span> + file.length());						<span class="comment">//文件大小</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.exists() = &quot;</span> + file.exists());						<span class="comment">//文件是否存在</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.isFile() = &quot;</span> + file.isFile());						<span class="comment">//是否为文件</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.isDirectory() = &quot;</span> + file.isDirectory());			<span class="comment">//是否为目录</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getFreeSpace() = &quot;</span> + file.getFreeSpace());			<span class="comment">//文件所在磁盘分区，剩余空间（不是可用空间）</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getTotalSpace() = &quot;</span> + file.getTotalSpace());		<span class="comment">//总空间</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getUsableSpace() = &quot;</span> + file.getUsableSpace());		<span class="comment">//可用空间</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.canRead() = &quot;</span> + file.canRead());					<span class="comment">//是否可读</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.canWrite() = &quot;</span> + file.canWrite());					<span class="comment">//是否可写</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.canExecute() = &quot;</span> + file.canExecute());				<span class="comment">//应用程序是否有执行该文件的权限</span></span><br><span class="line"><span class="keyword">if</span> (file.delete()) &#123;						<span class="comment">//删除文件</span></span><br><span class="line">    System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String dirPath = <span class="string">&quot;d:\\myData\\data\\test&quot;</span>;</span><br><span class="line">File file = <span class="keyword">new</span> File(dirPath);</span><br><span class="line">System.out.println(<span class="string">&quot;file.mkdirs() = &quot;</span> + file.mkdirs());		<span class="comment">//创建多级目录【一级目录使用mkdir()】，创建成功返回ture</span></span><br></pre></td></tr></table></figure>
<h3 id="I-O流">I/O流</h3>
<ul>
<li>
<p>流的分类</p>
<ul>
<li>
<p>按操作数据的单位：字节流（8 bit）【二进制文件，如：音频、视频】，字符流（按字符）【文本文件】</p>
</li>
<li>
<p>按数据流的流向：输入流，输出流</p>
<table>
<thead>
<tr>
<th>（抽象基类）</th>
<th>字节流</th>
<th>字符流</th>
</tr>
</thead>
<tbody>
<tr>
<td>输入流</td>
<td>InputStream</td>
<td>Reader</td>
</tr>
<tr>
<td>输出流</td>
<td>OutputStream</td>
<td>Writer</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>按流的角色：节点流，处理流/包装流</p>
</li>
</ul>
</li>
<li>
<p>节点流：从一个特定的数据源【例：文件、数组等】 读写数据。</p>
<ul>
<li>节点流是底层流 / 低级流，直接跟数据源相接。</li>
</ul>
</li>
<li>
<p>处理流（包装流）：连接已存在的流【节点流 / 处理流】，为程序提供更强大的读写功能。</p>
<ul>
<li>包装节点流，既可以消除不同节点流的实现差异，也可以提供更方便的方法来完成输入输出。</li>
<li>使用 ==装饰器设计模式== ，不会直接与数据源相连。</li>
<li>优点：
<ul>
<li>性能的提高：主要以增加缓冲的方式来提高输入输出效率。</li>
<li>操作的便捷：处理流提供了一系列便捷的方法来一次输入输出大批量的数据，使用更加灵活方便。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="image-20220728161433663.png" alt="image-20220728161433663"></p>
<h4 id="字节流">字节流</h4>
<h5 id="InputStream">InputStream</h5>
<p><img src="image-20220726231733861.png" alt="image-20220726231733861"></p>
<h6 id="FileInputStream">FileInputStream</h6>
<p>实例化对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileInputStream(String name)</span></span><br><span class="line">String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line"></span><br><span class="line"><span class="comment">// FileInputStream(File file)</span></span><br><span class="line">File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br></pre></td></tr></table></figure>
<p>常用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每个字符的 字节大小 和 文件编码 有关</span></span><br><span class="line"><span class="comment">// 读取失败，都返回 -1</span></span><br><span class="line">fileInputStream.read()			<span class="comment">//每次从文件中读一个字节，返回值：字节值【例：英文字母的ASCII码值】</span></span><br><span class="line">fileInputStream.read(<span class="keyword">byte</span>[] b)	<span class="comment">//批量读取多个字节到数组，返回读取到的字节数【文件末尾读取的字节数 &lt; b 的大小】</span></span><br><span class="line">fileInputStream.read(<span class="keyword">byte</span>[] b, <span class="keyword">int</span> off, <span class="keyword">int</span> len)	<span class="comment">//读 len 个字节从 off 开始存放到 b 中，返回读取到的字节数</span></span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFile02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">    <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 实例化对象</span></span><br><span class="line">        fileInputStream = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line">        <span class="comment">// 读取文件内容</span></span><br><span class="line">        <span class="keyword">while</span> ((len = fileInputStream.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(b, <span class="number">0</span>, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 关闭流</span></span><br><span class="line">            <span class="keyword">assert</span> fileInputStream != <span class="keyword">null</span>;</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="BufferedInputStream">BufferedInputStream</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedInputStream</span><span class="params">(InputStream in)</span></span>;</span><br></pre></td></tr></table></figure>
<h6 id="ObjectInputStream">ObjectInputStream</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="comment">// 提供了 反序列化功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ObjectInputStream</span><span class="params">(InputStream in)</span></span>;</span><br></pre></td></tr></table></figure>
<h5 id="OutputStream">OutputStream</h5>
<p><img src="image-20220727002414849.png" alt="image-20220727002414849"></p>
<h6 id="FileOutputStream">FileOutputStream</h6>
<p>实例化对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 覆盖写入</span></span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(filePath);</span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 追加写入</span></span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(filePath, ture);</span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file, ture);</span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// write(int b) 写入一个字节</span></span><br><span class="line">fileOutputStream.write(<span class="number">122</span>);</span><br><span class="line">fileOutputStream.write(<span class="string">&#x27;z&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// write(byte[] b) 写入一组</span></span><br><span class="line">String str = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">fileOutputStream.write(str.getBytes());</span><br><span class="line"></span><br><span class="line"><span class="comment">// write(byte[] b, int off, int len) 从 off 开始，写入长度为 len</span></span><br><span class="line">String str = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">fileOutputStream.write(str.getBytes(), <span class="number">0</span>, <span class="number">3</span>);	<span class="comment">// 写入 hel</span></span><br></pre></td></tr></table></figure>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeFile01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">    FileOutputStream fileOutputStream = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileOutputStream = <span class="keyword">new</span> FileOutputStream(filePath);</span><br><span class="line">        String str = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">        fileOutputStream.write(str.getBytes());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> fileOutputStream != <span class="keyword">null</span>;</span><br><span class="line">            fileOutputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="BufferedOutputStream">BufferedOutputStream</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedOutputStream</span><span class="params">(OutputStream out)</span></span>;</span><br></pre></td></tr></table></figure>
<h6 id="ObjectOutputStream">ObjectOutputStream</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="comment">// 提供了 序列化功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ObjectOutputStream</span><span class="params">(OutputStream out)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="字符流">字符流</h4>
<h5 id="Reader">Reader</h5>
<p><img src="image-20220727120226443.png" alt="image-20220727120226443"></p>
<h6 id="FileReader">FileReader</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileReader相关方法:</span></span><br><span class="line"><span class="number">1</span>) <span class="keyword">new</span> FileReader(File/String)</span><br><span class="line"><span class="number">2</span>) read();		<span class="comment">// 每次读取单个字符，返回该字符，如果到文件末尾返回-1</span></span><br><span class="line"><span class="number">3</span>) read(<span class="keyword">char</span>[]) <span class="comment">// 批量读取多个字符到数组，返回读取到的字符数，如果到文件末尾返回-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 相关API:</span></span><br><span class="line"><span class="number">1</span>) <span class="keyword">new</span> String(<span class="keyword">char</span>[])			<span class="comment">// 将char[]转换成String</span></span><br><span class="line"><span class="number">2</span>) <span class="keyword">new</span> String(<span class="keyword">char</span>[], off, len)	<span class="comment">// 将char[]的指定部分转换成String</span></span><br></pre></td></tr></table></figure>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileReader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\data.txt&quot;</span>;</span><br><span class="line">    FileReader fileReader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileReader = <span class="keyword">new</span> FileReader(filePath);</span><br><span class="line">        <span class="keyword">while</span>((len = fileReader.read(chars)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(chars, <span class="number">0</span>, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> fileReader != <span class="keyword">null</span>;</span><br><span class="line">            fileReader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="BufferedReader">BufferedReader</h6>
<ul>
<li>关闭时，只需要关闭包装流，底层会自动关闭包装的节点流。</li>
</ul>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bufferedReadFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(filePath));</span><br><span class="line">    String line;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 每次读取一行，不会读取换行符</span></span><br><span class="line">    <span class="keyword">while</span>((line = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line">    bufferedReader.close();		<span class="comment">// close() 源码中，关闭的是 FileReader</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Writer">Writer</h5>
<p><img src="image-20220727120916126.png" alt="image-20220727120916126"></p>
<h6 id="FileWriter">FileWriter</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileWriter常用方法</span></span><br><span class="line"><span class="number">1</span>) <span class="keyword">new</span> FileWriter(File/String)		<span class="comment">// 覆盖模式，相当于流的指针在首端</span></span><br><span class="line"><span class="number">2</span>) <span class="keyword">new</span> FileWriter(File/String,<span class="keyword">true</span>)	<span class="comment">// 追加模式，相当于流的指针在尾端</span></span><br><span class="line"><span class="number">3</span>) write(<span class="keyword">int</span>)		<span class="comment">//写入单个字符</span></span><br><span class="line"><span class="number">4</span>) write(<span class="keyword">char</span>[])	<span class="comment">//写入指定数组</span></span><br><span class="line"><span class="number">5</span>) write(<span class="keyword">char</span>[],off,len)	<span class="comment">//写入指定数组的指定部分</span></span><br><span class="line"><span class="number">6</span>) write (string)			<span class="comment">//写入整个字符串</span></span><br><span class="line"><span class="number">7</span>) write(string,off,len)	<span class="comment">//写入字符串的指定部分</span></span><br></pre></td></tr></table></figure>
<p>➢注意:<br>
FileWriter使用后，必须要关闭 (close) 或刷新 (flush) ，否则写入不到指定的文件！</p>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileWriter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\data.txt&quot;</span>;</span><br><span class="line">    FileWriter fileWriter = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileWriter = <span class="keyword">new</span> FileWriter(filePath);</span><br><span class="line">        fileWriter.write(<span class="string">&quot;风雨之后， 定见彩虹&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> fileWriter != <span class="keyword">null</span>;</span><br><span class="line">            fileWriter.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="BufferedWriter">BufferedWriter</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bufferedWriterFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(filePath));</span><br><span class="line">    <span class="comment">// 写入一行数据</span></span><br><span class="line">    bufferedWriter.write(<span class="string">&quot;bufferedWriter Successful&quot;</span>);</span><br><span class="line">    <span class="comment">// 换行，插入一个和系统相关的换行符</span></span><br><span class="line">    bufferedWriter.newLine();</span><br><span class="line">    <span class="comment">// 关闭外层流</span></span><br><span class="line">    bufferedWriter.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="序列化和反序列化">序列化和反序列化</h4>
<ul>
<li>序列化：保存数据时，保存==数据的值==和==数据类型==。</li>
<li>反序列化：恢复数据时，恢复==数据的值==和==数据类型==。</li>
<li>需要让某个对象支持序列化机制，则其类必须实现 Serializable【推荐使用】 或 Externalizable【继承Serializable，该接口有两个方法需要实现，所以一般不使用】 接口。</li>
<li>注意事项和细节
<ul>
<li>序列化 和 反序列化 的==读写顺序要一致==</li>
<li>对象要支持 序列化 和 反序列化，其类要实现 Serializable 接口</li>
<li>序列化的类中建议添加 ==SerialVersionUID==，为了提高版本兼容性</li>
<li>序列化对象时，默认将其所有属性都进行序列化，除了 static【序列化保存的是对象状态，static 变量所属类，如果反序列化后 static 变量有值，则该值为当前 JVM 中对应的 static 变量的值】和 transient 属性</li>
<li>序列化对象时，要求 ==其所有属性的类型== 都实现 Serializable 接口</li>
<li>序列化具备可继承性，某类实现序列化，其子类也默认实现序列化</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// serialVersionUID 序列化的版本号，可以提高兼容性</span></span><br><span class="line">    <span class="comment">// 在增加/删除属性后，进行反序列化时，只会认为是版本更新，不会认为是新的类</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ObjectInputStream-2">ObjectInputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(filePath));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 反序列化，读取顺序需要和 序列化 顺序一致，否则会抛出 java.io.OptionalDataException</span></span><br><span class="line">System.out.println(ois.readInt());</span><br><span class="line">System.out.println(ois.readBoolean());</span><br><span class="line">System.out.println(ois.readUTF());</span><br><span class="line">System.out.println(ois.readDouble());</span><br><span class="line">System.out.println(ois.readChar());</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Object object = ois.readObject();</span><br><span class="line">    System.out.println(object.getClass());</span><br><span class="line">    System.out.println(object);</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 1.如果需要调用 Dog 的方法，需要向下转型</span></span><br><span class="line">    <span class="comment">// 2.Dog 类，需要在该文件可以导入</span></span><br><span class="line">    Dog dog = (Dog) object;</span><br><span class="line">    System.out.println(dog.getName());</span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">ois.close();</span><br></pre></td></tr></table></figure>
<h5 id="ObjectOutputStream-2">ObjectOutputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(filePath));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下类型都会装箱，包装类都实现了 Serializable 接口</span></span><br><span class="line">oos.writeInt(<span class="number">100</span>);</span><br><span class="line">oos.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">oos.writeUTF(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">oos.writeDouble(<span class="number">1.2</span>);</span><br><span class="line">oos.writeChar(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义类，若要序列化，则需要实现 Serializable 接口</span></span><br><span class="line">oos.writeObject(<span class="keyword">new</span> Dog(<span class="string">&quot;小黄&quot;</span>, <span class="number">7</span>));</span><br><span class="line">oos.close();</span><br></pre></td></tr></table></figure>
<h4 id="标准输入输出流">标准输入输出流</h4>
<h5 id="InputStream-2">InputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">标准输入流 </span><br><span class="line"><span class="comment">// System 类的 public fianl static InputStream in = null;</span></span><br><span class="line"><span class="comment">// System.in 编译类型 InputStream</span></span><br><span class="line"><span class="comment">// System.in 运行类型 BufferedInputStream</span></span><br><span class="line"><span class="comment">// 表示的是 标准输入，键盘</span></span><br></pre></td></tr></table></figure>
<h5 id="PrintStream">PrintStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">标准输出流</span><br><span class="line"><span class="comment">// System 类的 public fianl static PrintStream out = null;</span></span><br><span class="line"><span class="comment">// System.out 编译类型 PrintStream</span></span><br><span class="line"><span class="comment">// System.out 运行类型 PrintStream</span></span><br><span class="line"><span class="comment">// 表示的是 标准输出，显示器</span></span><br></pre></td></tr></table></figure>
<h4 id="文件拷贝实战">文件拷贝实战</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liduo.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liduo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileCopy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String scrFilepath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\img.png&quot;</span>;</span><br><span class="line">        String destFilepath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\res.png&quot;</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line">        FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">        FileOutputStream fileOutputStream = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileInputStream = <span class="keyword">new</span> FileInputStream(scrFilepath);</span><br><span class="line">            fileOutputStream = <span class="keyword">new</span> FileOutputStream(destFilepath);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 边读边写，一次读取 1kb</span></span><br><span class="line">            <span class="keyword">while</span> ((len = fileInputStream.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                fileOutputStream.write(b, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> fileInputStream != <span class="keyword">null</span>;</span><br><span class="line">                fileInputStream.close();</span><br><span class="line">                <span class="keyword">assert</span> fileOutputStream != <span class="keyword">null</span>;</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Properties-类">Properties 类</h3>
<p>对 .properties 配置文件进行操作的类，将配置文件中的信息以键值对的形式通过 Properties 类进行读取/写入操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">load</span><span class="params">(Reader / InputStream)</span>			<span class="comment">// 加载配置文件的键值对到 Properties 对象</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">list</span><span class="params">(PrintStream / PrinWriter)</span>		<span class="comment">// 将数据显示到指定设备（文件、控制台等）</span></span></span><br><span class="line"><span class="function">String <span class="title">getProperty</span><span class="params">(String key)</span>			<span class="comment">// 根据 key 获取 value</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 根据 key 获取 value，如果 value 为 null，则返回 defaultValue</span></span></span><br><span class="line"><span class="function">String <span class="title">getProperty</span><span class="params">(String key, String defaultValue)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">/* 1. 设置键值对到 Properties 对象</span></span></span><br><span class="line"><span class="function"><span class="comment"> * 2. 如果 key 存在，就修改 value；不存在，就加入</span></span></span><br><span class="line"><span class="function"><span class="comment"> */</span></span></span><br><span class="line"><span class="function">Object <span class="title">setProperty</span><span class="params">(String key, String value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">/* 1. 将 Properties 对象中的键值对存储到配置文件中，在 IDEA 中，保存信息到配置文件，如果含有中文，会存储为 Unicode 编码</span></span></span><br><span class="line"><span class="function"><span class="comment"> * 2. comments 为配置文件的注释内容，如果不需要，写为 null</span></span></span><br><span class="line"><span class="function"><span class="comment"> */</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">store</span><span class="params">(Writer / OutputStream, String comments)</span></span></span><br></pre></td></tr></table></figure>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CodeQuestion</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> String filePath = <span class="string">&quot;src\\sql.properties&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.创建 Properties 对象</span></span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 2.加载 .properties 配置文件</span></span><br><span class="line">        properties.load(<span class="keyword">new</span> FileReader(filePath));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3.将 key-value 输出到控制台</span></span><br><span class="line">        properties.list(System.out);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4.获取 key为password 的值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;密码 = &quot;</span> + properties.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 5.将 port=3306 键值对加入到 Properties 对象中</span></span><br><span class="line">        properties.setProperty(<span class="string">&quot;port&quot;</span>, <span class="string">&quot;3306&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 6.将更新后的 Properties 对象中的键值对写入到配置文件</span></span><br><span class="line">        properties.store(<span class="keyword">new</span> FileWriter(filePath), <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="线程">线程</h3>
<ul>
<li>线程由进程创建，是进程的一个实体。</li>
<li>单线程：同一时刻，只允许执行一个线程。</li>
<li>多线程：同一时刻，可以执行多个线程，比如：一个qq进程，可以同时打开多个聊天窗口。</li>
<li>并发：同一时刻，多个任务交替执行，造成一种“貌似同时”的错觉。==单核cpu实现的多任务就是并发==。</li>
<li>并行：同一时刻，多个任务同时执行。==多核cpu可以实现并行==。</li>
</ul>
<h4 id="多线程机制">多线程机制</h4>
<ul>
<li>java应用程序运行【进程】—&gt; main 线程 —&gt; 其它线程【 —&gt; 其他线程 】。</li>
<li>主线程不会等其他线程结束后才结束。</li>
<li>所有线程结束后，进程才会结束。</li>
</ul>
<h4 id="创建线程">创建线程</h4>
<ul>
<li>继承 Thread 类，重写 run 方法
<ul>
<li>==Thread 类实现了 Runnable 接口，Thread 的 run() 是重写了 Runnable 接口的 run()==</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">101</span>; i = i + <span class="number">2</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread1.run == &quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>实现 Runnable 接口，重写 run 方法
<ul>
<li>java 单继承机制，如果某一个类已经有一个父类，就无法继承 Thread 类，可以实现 Runnable 接口</li>
<li>不能直接通过 start() 方法启动线程，需要通过 Thread 对象调用 start() 方法【==静态代理模式==】</li>
<li>实现 Runnable 接口方式更加适合多个线程共享一个资源的情况，并且避免了单继承的限制</li>
</ul>
</li>
</ul>
<p><img src="image-20220729104720398.png" alt="image-20220729104720398"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        RunnableTest t = <span class="keyword">new</span> RunnableTest();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 多个线程共享一个资源</span></span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RunnableTest</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Thread.currentThread().getName() 获得线程名</span></span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="启动线程">启动线程</h4>
<p>调用 start() 方法，会执行本地方法 start0() 【查看 Thread类 源码可知，start0() 由 JVM 调用】，线程变为==可运行状态==，最终由 CPU 统一调度。</p>
<p>run() 方法是一个普通的方法，没有真正启动一个线程，如果直接调用，会先执行 run() 的内容，再向下执行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        MyThread myThread = <span class="keyword">new</span> MyThread();</span><br><span class="line">        <span class="comment">// 启动子线程</span></span><br><span class="line">        <span class="comment">// 如果调用 myThread.run()， 会先执行等 run() 执行结束后，再执行下面的语句</span></span><br><span class="line">        myThread.start();</span><br><span class="line">		</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">60</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主线程 &quot;</span> + i);</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="终止线程">终止线程</h4>
<ul>
<li>当线程完成任务后，自动退出。</li>
<li>通过使用变量来控制 run() 方法退出，即通知方式。</li>
</ul>
<h4 id="常用方法">常用方法</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 线程名</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(String)</span></span></span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span>			<span class="comment">// 普通方法，执行一次 run 方法</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span>		<span class="comment">// 启动线程</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">interrupt</span><span class="params">()</span>	<span class="comment">// 中断线程</span></span></span><br><span class="line"><span class="function"><span class="comment">// 优先级</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setPriority</span><span class="params">(<span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPriority</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">yield</span><span class="params">()</span>		<span class="comment">//线程的礼让，但礼让的时间不确定，且不一定礼让成功</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">()</span>			<span class="comment">//线程的插队。一旦插队成功，肯定先执行完插入线程的所有任务，例：t1.join(), 线程 t1 插队</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setDaemon</span><span class="params">(<span class="keyword">boolean</span> )</span>	<span class="comment">// 设置为守护线程[参数为 ture]</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isDaemon</span><span class="params">()</span>			<span class="comment">// 判断是否为守护线程</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span>		<span class="comment">// 睡眠 单位：ms, static 方法</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">currentThread</span><span class="params">()</span>	<span class="comment">// 获取当前线程, static 方法</span></span></span><br></pre></td></tr></table></figure>
<h4 id="用户线程和守护线程">用户线程和守护线程</h4>
<ul>
<li>用户线程：也叫工作线程，当新成的任务执行完或以通知方式结束。</li>
<li>守护线程：一般为用户线程服务，当所有用户线程结束，守护线程自动结束。</li>
<li>常见的守护线程：垃圾回收机制</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将某个线程设置为守护线程【注：先设置，后启动】</span></span><br><span class="line">Thread t = <span class="keyword">new</span> Thread();</span><br><span class="line">t.setDaem(ture);</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure>
<h4 id="生命周期">生命周期</h4>
<p>线程状态【6 或 7 种状态】</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">State</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    NEW,			<span class="comment">// 尚未启动的线程</span></span><br><span class="line"></span><br><span class="line">    RUNNABLE,		<span class="comment">// 可运行状态，在 JVM 中执行的线程 [分为就绪状态、运行状态]</span></span><br><span class="line"></span><br><span class="line">    BLOCKED,		<span class="comment">// 阻塞状态，等待监视器锁定的线程</span></span><br><span class="line"></span><br><span class="line">    WAITING,		<span class="comment">// 等待另一个线程执行特定动作的线程</span></span><br><span class="line"></span><br><span class="line">    TIMED_WAITING,	<span class="comment">// 等待另一个线程执行动作 达到指定等待时间</span></span><br><span class="line"></span><br><span class="line">    TERMINATED;		<span class="comment">// 已退出的线程</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="image-20220802220318186.png" alt="image-20220802220318186"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 线程状态示例代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadState</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> T());</span><br><span class="line">        System.out.println(thread.getName() + <span class="string">&quot;当前状态：&quot;</span> + thread.getState());</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (thread.getState() != Thread.State.TERMINATED) &#123;</span><br><span class="line">            System.out.println(thread.getName() + <span class="string">&quot;当前状态：&quot;</span> + thread.getState());</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(thread.getName() + <span class="string">&quot;当前状态：&quot;</span> + thread.getState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">T</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;hi &quot;</span> + i);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="image-20220802221117957.png" alt="image-20220802221117957"></p>
<h4 id="线程同步机制">线程同步机制</h4>
<p>在多线程编程中，==线程同步机制==保证一些敏感数据，==在任何同一时刻，最多只有一个线程访问==，以保证数据的完整性。</p>
<p>线程同步：即当有一个线程在对内存进行操作时，其它线程都不可以对这个内存地址进行操作，直到该线程完成操作，其它线程才能对该内存地址进行操作。</p>
<p>同步具体实现—synchronized</p>
<ul>
<li>同步代码块</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (对象) &#123;		<span class="comment">// 得到对象的锁，才能操作同步代码</span></span><br><span class="line">	<span class="comment">// 需要被同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>同步方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 放在方法声明处，表示整个方法为同步方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">m</span> <span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 需要被同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread.ticket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liduo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SellTicket</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SellTicket01 sellTicket01 = <span class="keyword">new</span> SellTicket01();</span><br><span class="line">        <span class="keyword">new</span> Thread(sellTicket01, <span class="string">&quot;窗口一&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(sellTicket01, <span class="string">&quot;窗口二&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(sellTicket01, <span class="string">&quot;窗口三&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SellTicket01</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> sellCount = <span class="number">30</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> loop = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (loop) &#123;</span><br><span class="line">            sell();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sellCount &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;票已售空...&quot;</span>);</span><br><span class="line">            loop = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;出售一张票，剩余 &quot;</span> + (--sellCount) + <span class="string">&quot; 张票&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="互斥锁">互斥锁</h4>
<p>对象互斥锁，保证共享数据操作的完整性。</p>
<p>每个对象都有一个“互斥锁”的标记，这个标记用来保证在任一时刻，只能有一个线程访问该对象。</p>
<p>synchronized 与对象的互斥锁联系。修饰对象时，表明该对象在任一时刻只能有一个线程访问。</p>
<p>同步的局限性：导致程序的执行效率降低。</p>
<p>同步方法（非 static）的锁可以是 this，也可以是其他对象（要求是==同一对象==）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 此处的 this 可以替换为由多个线程共享的同一个对象</span></span><br><span class="line">    <span class="keyword">synchronized</span>(<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(sellCount &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;票已售空...&quot;</span>);</span><br><span class="line">            loop = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;出售一张票，剩余 &quot;</span> + (--sellCount) + <span class="string">&quot; 张票&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同步方法（static）的锁为当前类本身。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="comment">// 同步内容</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(Test.class) &#123;</span><br><span class="line">            <span class="comment">// 同步内容</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>同步 非static方法 ：默认锁对象为 this</p>
</li>
<li>
<p>同步 static 方法 ：默认锁对象为 当前类.class</p>
</li>
<li>
<p>实现落地步骤：</p>
<ul>
<li>先分析上锁的代码</li>
<li>选择==同步代码块==或同步方法</li>
<li>要求多个线程的锁对象为同一个</li>
</ul>
</li>
</ul>
<h4 id="线程死锁">线程死锁</h4>
<p>多个线程占用了对方的锁资源，都不相让，导致死锁。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLockDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LockThread lockThread1 = <span class="keyword">new</span> LockThread(<span class="keyword">true</span>);</span><br><span class="line">        LockThread lockThread2 = <span class="keyword">new</span> LockThread(<span class="keyword">false</span>);</span><br><span class="line">        lockThread1.start();</span><br><span class="line">        lockThread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LockThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Object o1 = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Object o2 = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">boolean</span> flag;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LockThread</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o1) &#123;</span><br><span class="line">                System.out.println(getName() + <span class="string">&quot; 获得 锁 o1&quot;</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">                    System.out.println(getName() + <span class="string">&quot; 获得 锁 o2&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">                System.out.println(getName() + <span class="string">&quot; 获得 锁 o2&quot;</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (o1) &#123;</span><br><span class="line">                    System.out.println(getName() + <span class="string">&quot; 获得 锁 o1&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="释放锁">释放锁</h4>
<p>以下操作会释放锁：</p>
<ul>
<li>当前线程的同步方法 / 代码块执行结束。</li>
<li>当前线程在同步方法 / 代码块中遇到break、return。</li>
<li>出现了未处理的 Error 或 Exception，导致异常结束。</li>
<li>执行了线程对象的 wait() 方法，当前线程暂停，并释放锁。</li>
</ul>
<p>以下操作不会释放锁：</p>
<ul>
<li>程序调用 Thread.sleep()、Thread.yield() 方法暂停当前线程的执行。</li>
<li>其它线程调用了该线程的 suspend() 方法将该线程挂起，该线程不会释放锁。
<ul>
<li>注：尽量避免使用 suspend() 和 resume() 控制线程，已不再推荐使用。</li>
</ul>
</li>
</ul>
<h3 id="网络编程">网络编程</h3>
<p>两台设备之间通过网络实现数据传输。</p>
<p>网络通信：将数据通过网络从一台设备传输到另一台设备。</p>
<p>网络：两台或多台设备通过一定的物理设备【交换机、网关服务器、路由等】连接起来构成了网络。</p>
<ul>
<li>局域网：覆盖范围最小，仅覆盖一个教室或机房。</li>
<li>城域网：覆盖范围较大，可以覆盖一个城市。</li>
<li>广域网：覆盖范围最大，可以覆盖全国，甚至全球。例：万维网</li>
</ul>
<h4 id="ip地址">ip地址</h4>
<ul>
<li>用于唯一标识网络中的每台计算机 / 主机</li>
<li>查看 ip 地址：ipconfig</li>
<li>ip 地址（4字节32位）的表示形式（点分十进制）：0~255. 0~255. 0~255. 0~255.</li>
<li>ip 地址 = 网络地址 + 主机地址，例：192.168.16.69</li>
<li>IPV6（16字节128位，冒分16进制） 是互联网工程任务组设计的用于替代 IPV4 的下一代 IP 协议。</li>
<li>IPV4 表示的网络地址资源有限，无法适用于物联网时代多种设备连入互联网的需求。</li>
</ul>
<h4 id="IPV4">IPV4</h4>
<p><img src="image-20220803090925027.png" alt="image-20220803090812387"></p>
<p><img src="image-20220803090812387.png" alt="image-20220803090812387"></p>
<p>==特殊的 127.0.0.1 表示本机地址==</p>
<h4 id="域名">域名</h4>
<p>例：<a target="_blank" rel="noopener" href="http://www.baidu.com">www.baidu.com</a>，与 ip地址 映射。</p>
<h4 id="端口">端口</h4>
<ul>
<li>
<p>用于表示计算机上某个特定的网络程序。</p>
</li>
<li>
<p>表示形式：整数，范围 0 ~ 65535 [2 个字节表示端口 0 ~ 2^16 - 1]</p>
</li>
<li>
<p>0 ~ 1024 已经被占用。例：ssh 22，ftp 21，smtp 25，http 80</p>
</li>
<li>
<p>常见的网络程序端口号：</p>
<ul>
<li>
<p>tomcat：8080</p>
</li>
<li>
<p>mysql：3306</p>
</li>
<li>
<p>oracle：1521</p>
</li>
<li>
<p>SqlServer：1433</p>
</li>
</ul>
</li>
</ul>
<h4 id="TCP-IP-协议">TCP/IP 协议</h4>
<p>在网络编程中，数据的组织形式，就是协议。</p>
<p>TCP / IP (Transmission Control Protocol / Internet Protocol) ，==传输控制协议 / 因特网协议==，又叫网络通讯协议，是 Internet 最基本的协议、是 Internet 国际互联网络基础，是有网络层的 IP 协议和传输层的 TCP 协议组成。</p>
<p><img src="image-20220803100411094.png" alt="image-20220803100411094"></p>
<p><img src="image-20220803101048929.png" alt="image-20220803101048929"></p>
<h4 id="TCP-UDP">TCP/UDP</h4>
<p>TCP 协议：传输控制协议</p>
<ul>
<li>使用 TCP 协议前，须先建立 TCP 连接，行程传输数据通道。</li>
<li>传输前，采用“三次握手”方式，是==可靠的==。</li>
<li>TCP 协议进行通信的两个应用进程：客户端、服务端。</li>
<li>在连接中可进行大数据量的传输。</li>
<li>传输完毕，需释放已建立的连接，==效率低==。</li>
</ul>
<p>UDP 协议：用户数据协议</p>
<ul>
<li>将数据、源、目的封装成数据包，不需要建立连接。</li>
<li>每个数据包的大小限制在 64K 内，==不适合传输大量数据==。</li>
<li>因无需连接，==不可靠==。</li>
<li>发送数据结束时无须释放资源，速度快。</li>
</ul>
<h4 id="InetAddress类">InetAddress类</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">API_</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnknownHostException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取本机的 InetAddress 对象</span></span><br><span class="line">        InetAddress localHost = InetAddress.getLocalHost();</span><br><span class="line">        System.out.println(localHost);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.通过主机名获取 InetAddress 对象</span></span><br><span class="line">        InetAddress host1 = InetAddress.getByName(<span class="string">&quot;LAPTOP-E82KRH0E&quot;</span>);</span><br><span class="line">        System.out.println(host1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.通过域名获取 InetAddress 对象</span></span><br><span class="line">        InetAddress host2 = InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        System.out.println(host2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.通过 InetAddress 对象获取信息</span></span><br><span class="line">        System.out.println(host2.getHostName());            <span class="comment">// 获取主机名 / 域名</span></span><br><span class="line">        System.out.println(host2.getHostAddress());         <span class="comment">// 获取 IP 地址</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Socket">Socket</h4>
<ul>
<li>套接字（socket）开发网络应用程序被广泛采用，已成为一种标准。</li>
<li>通信的两端都要有 Socket ，是两台机器间通信的端点。</li>
<li>网络通信其实就是 Socket 间的通信。</li>
<li>Socket 允许程序把网络连接当成一个流，==数据在两个 Socket 间通过 IO 传输==。</li>
<li>一般主动发起通信的应用程序为客户端，等待通信请求的为服务端。</li>
</ul>
<p><img src="image-20220803105401054.png" alt="image-20220803105401054"></p>
<p>TCP 网络通信编程</p>
<p><img src="image-20220803110153234.png" alt="image-20220803110153234"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 客户端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SocketTCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.连接服务器（ip， 端口号）</span></span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(), <span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;连接成功...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.连接成功后，获取与 socket 对象关联的 输出流对象</span></span><br><span class="line">        OutputStream serverOutputStream = socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.通过输出流，发送消息到服务端</span></span><br><span class="line">        serverOutputStream.write(<span class="string">&quot;hello, server\nhello,world&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.关闭资源</span></span><br><span class="line">        serverOutputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 服务端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SocketTCPServer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.在 本机 的 9999 端口监听，等待连接</span></span><br><span class="line">        <span class="comment">// 要求：端口未被占用，ServerSocket 可以通过 accept() 返回多个 Socket[多个客户端连接服务器的并发]</span></span><br><span class="line">        ServerSocket serverSocket= <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端启动，等待连接...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.当没有客户端连接时，会阻塞，等待连接</span></span><br><span class="line">        <span class="comment">//   如果有客户端连接，会返回 Socket 对象，程序继续</span></span><br><span class="line">        Socket socket = serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.通过 socket.getInputStream() 获取，客户端写入到数据通道的数据</span></span><br><span class="line">        InputStream serverInputStream = socket.getInputStream();</span><br><span class="line">        BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(serverInputStream));</span><br><span class="line">        String line;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.将接受到的消息输出到控制台</span></span><br><span class="line">        System.out.println(<span class="string">&quot;接收消息：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> ((line = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.关闭资源</span></span><br><span class="line">        serverInputStream.close();</span><br><span class="line">        bufferedReader.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="集合">集合</h3>
<h4 id="List">List</h4>
<ul>
<li>
<p>List 接口属于 Collection 的一个子接口</p>
</li>
<li>
<p>有序集合，即存储顺序为存放顺序。</p>
</li>
<li>
<p>元素可重复。</p>
</li>
</ul>
<h5 id="ArrayList、LinkedList-和-Vector-区别">ArrayList、LinkedList 和 Vector 区别</h5>
<p>ArrayList 特点：</p>
<ul>
<li>数组结构</li>
<li>有连续下标，增删操作慢，随机访问效率快</li>
<li>线程不安全</li>
<li>增长因子为 1.5 【加载因子0.75，当 元素个数 超过 容量 的 0.75 倍时，进行扩容，扩容为原来的 1.5 倍】</li>
</ul>
<p>LinkedList 特点：</p>
<ul>
<li>双向链表结构</li>
<li>增删快，有连续下标，随机访问效率低</li>
<li>线程不安全</li>
<li>增长因子为 2</li>
</ul>
<p>Vector 特点：</p>
<ul>
<li>数组实现</li>
<li>同 ArrayList，整体效率较低（线程同步影响，开销大）</li>
<li>线程安全</li>
<li>增长因子为 2</li>
</ul>
<h4 id="Set">Set</h4>
<ul>
<li>Set 接口属于 Collection 的一个子接口.</li>
<li>元素无序，不可重复。</li>
</ul>
<h5 id="HashSet">HashSet</h5>
<p>按照 Hash 算法存储集合中的元素，具有很好地存取、查询、删除性能</p>
<p>不能保证元素的排列顺序</p>
<p>线程不安全</p>
<p>集合元素可以为 null</p>
<h4 id="Map">Map</h4>
<p>双列数据，保存具有映射关系 key-value 的集合。</p>
<p>HashTable、HashMap</p>


        <hr>
        <!-- Pager -->
        <ul class="pager">
          
          <li class="previous">
            <a href="/note/设计模式/" data-toggle="tooltip" data-placement="top" title="设计模式">&larr; Previous Post</a>
          </li>
          
          
          <li class="next">
            <a href="/note/MySQL/" data-toggle="tooltip" data-placement="top" title="MySQL">Next Post &rarr;</a>
          </li>
          
        </ul>

        
        <!-- tip start -->
        <!-- tip -->
<!-- tip start -->
<div class="tip">
  <p>
    
      如果您喜欢此博客或发现它对您有用，则欢迎对此发表评论。 也欢迎您共享此博客，以便更多人可以参与。 如果博客中使用的图像侵犯了您的版权，请与作者联系以将其删除。 谢谢 ！
    
  </p>
</div>
<!-- tip end -->

        <!-- tip end -->
        

        
        <!-- Sharing Srtart -->
        <!-- Social Social Share Post -->
<!-- Docs:https://github.com/overtrue/share.js -->

<div class="social-share" data-initialized="true" data-disabled="tencent ,douban ,qzone ,linkedin ,facebook ,google ,diandian" data-wechat-qrcode-helper="" align="center">
  <ul class="list-inline text-center social-share-ul">
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-twitter">
        <i class="fa fa-twitter fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a class="social-share-icon icon-wechat">
        <i class="fa fa-weixin fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-weibo">
        <i class="fa fa-weibo fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-qq">
        <i class="fa fa-qq fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon" href="mailto:?subject=java笔记&body=Hi,I found this website and thought you might like it https://github.com/lidzknyy/lidzknyy.github.io/note/java笔记/">
        <i class="fa fa-envelope fa-1x" aria-hidden="true"></i>
      </a>
    </li>
  </ul>
</div>

<!-- css & js -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"> -->
<script defer="defer" async="true" src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>

        <!-- Sharing End -->
        
        <hr>

        <!-- comments start -->
        <!-- 1. gitalk comment -->

  <!-- gitalk start -->
  <!-- Docs:https://github.com/gitalk/gitalk/blob/master/readme-cn.md -->

  <div id="gitalk-container"></div>

  
    <!-- <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.js"></script> -->
    <script src="/js/comment/gitalk.js"></script>
  

  <script>
    var gitalk = new Gitalk({
      clientID: '',
      clientSecret: '',
      repo: '',
      owner: '',
      admin: '',
      id: 'Mon Aug 30 2021 22:09:02 GMT+0800', // Ensure uniqueness and length less than 50
      distractionFreeMode: false, // Facebook-like distraction free mode
      perPage: 10,
      pagerDirection: 'last',
      createIssueManually: false,
      language: 'en',
      proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token'
    });
    gitalk.render('gitalk-container');

    var gtFolded = () => {
      setTimeout(function () {
        let markdownBody = document.getElementsByClassName("markdown-body");
        let list = Array.from(markdownBody);
        list.forEach(item => {
          if (item.clientHeight > 250) {
            item.classList.add('gt-comment-body-folded');
            item.style.maxHeight = '250px';
            item.title = 'Click to Expand';
            item.onclick = function () {
              item.classList.remove('gt-comment-body-folded');
              item.style.maxHeight = '';
              item.title = '';
              item.onclick = null;
            };
          }
        })
      }, 800);
    }
  </script>

  <!-- gitalk end -->


<!-- 2. gitment comment -->


<!-- 3. disqus comment -->


        <!-- comments end -->
        <hr>

      </div>

      <!-- Catalog: Tabe of Content -->
      <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">目录</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">多态</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E6%9C%BA%E5%88%B6"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">动态绑定机制</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%A4%9A%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">多态数组</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%A4%9A%E6%80%81%E5%8F%82%E6%95%B0"><span class="toc-nav-number">1.3.</span> <span class="toc-nav-text">多态参数</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#instanceof"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">instanceof</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#transient-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">transient 关键字</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#final%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">final修饰符</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#enum%E6%9E%9A%E4%B8%BE"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">enum枚举</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Exception%E5%BC%82%E5%B8%B8"><span class="toc-nav-number">6.</span> <span class="toc-nav-text">Exception异常</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#String%E7%B1%BB"><span class="toc-nav-number">7.</span> <span class="toc-nav-text">String类</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%88%9B%E5%BB%BAString%E5%AF%B9%E8%B1%A1"><span class="toc-nav-number">7.1.</span> <span class="toc-nav-text">创建String对象</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#intern-%E6%96%B9%E6%B3%95"><span class="toc-nav-number">7.2.</span> <span class="toc-nav-text">intern() 方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#String%E7%89%B9%E6%80%A7"><span class="toc-nav-number">7.3.</span> <span class="toc-nav-text">String特性</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#StringBuffer"><span class="toc-nav-number">7.4.</span> <span class="toc-nav-text">StringBuffer</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#StringBuffer-String"><span class="toc-nav-number">7.4.1.</span> <span class="toc-nav-text">StringBuffer -&gt; String</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#String-StringBuffer"><span class="toc-nav-number">7.4.2.</span> <span class="toc-nav-text">String -&gt; StringBuffer</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#StringBuilder"><span class="toc-nav-number">7.5.</span> <span class="toc-nav-text">StringBuilder</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%B8%89%E8%80%85%E5%AF%B9%E6%AF%94"><span class="toc-nav-number">7.6.</span> <span class="toc-nav-text">三者对比</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Arrays-%E7%B1%BB"><span class="toc-nav-number">8.</span> <span class="toc-nav-text">Arrays 类</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#sort"><span class="toc-nav-number">8.1.</span> <span class="toc-nav-text">sort()</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#binarySearch"><span class="toc-nav-number">8.2.</span> <span class="toc-nav-text">binarySearch()</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#copyOf"><span class="toc-nav-number">8.3.</span> <span class="toc-nav-text">copyOf()</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#fill"><span class="toc-nav-number">8.4.</span> <span class="toc-nav-text">fill()</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#asList"><span class="toc-nav-number">8.5.</span> <span class="toc-nav-text">asList()</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#System%E7%B1%BB"><span class="toc-nav-number">9.</span> <span class="toc-nav-text">System类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#BigInteger"><span class="toc-nav-number">10.</span> <span class="toc-nav-text">BigInteger</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#BigDecimal"><span class="toc-nav-number">11.</span> <span class="toc-nav-text">BigDecimal</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#File%E7%B1%BB"><span class="toc-nav-number">12.</span> <span class="toc-nav-text">File类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#I-O%E6%B5%81"><span class="toc-nav-number">13.</span> <span class="toc-nav-text">I&#x2F;O流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-nav-number">13.1.</span> <span class="toc-nav-text">字节流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#InputStream"><span class="toc-nav-number">13.1.1.</span> <span class="toc-nav-text">InputStream</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#FileInputStream"><span class="toc-nav-number">13.1.1.1.</span> <span class="toc-nav-text">FileInputStream</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#BufferedInputStream"><span class="toc-nav-number">13.1.1.2.</span> <span class="toc-nav-text">BufferedInputStream</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#ObjectInputStream"><span class="toc-nav-number">13.1.1.3.</span> <span class="toc-nav-text">ObjectInputStream</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#OutputStream"><span class="toc-nav-number">13.1.2.</span> <span class="toc-nav-text">OutputStream</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#FileOutputStream"><span class="toc-nav-number">13.1.2.1.</span> <span class="toc-nav-text">FileOutputStream</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#BufferedOutputStream"><span class="toc-nav-number">13.1.2.2.</span> <span class="toc-nav-text">BufferedOutputStream</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#ObjectOutputStream"><span class="toc-nav-number">13.1.2.3.</span> <span class="toc-nav-text">ObjectOutputStream</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-nav-number">13.2.</span> <span class="toc-nav-text">字符流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#Reader"><span class="toc-nav-number">13.2.1.</span> <span class="toc-nav-text">Reader</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#FileReader"><span class="toc-nav-number">13.2.1.1.</span> <span class="toc-nav-text">FileReader</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#BufferedReader"><span class="toc-nav-number">13.2.1.2.</span> <span class="toc-nav-text">BufferedReader</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#Writer"><span class="toc-nav-number">13.2.2.</span> <span class="toc-nav-text">Writer</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#FileWriter"><span class="toc-nav-number">13.2.2.1.</span> <span class="toc-nav-text">FileWriter</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#BufferedWriter"><span class="toc-nav-number">13.2.2.2.</span> <span class="toc-nav-text">BufferedWriter</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-nav-number">13.3.</span> <span class="toc-nav-text">序列化和反序列化</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ObjectInputStream-2"><span class="toc-nav-number">13.3.1.</span> <span class="toc-nav-text">ObjectInputStream</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ObjectOutputStream-2"><span class="toc-nav-number">13.3.2.</span> <span class="toc-nav-text">ObjectOutputStream</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-nav-number">13.4.</span> <span class="toc-nav-text">标准输入输出流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#InputStream-2"><span class="toc-nav-number">13.4.1.</span> <span class="toc-nav-text">InputStream</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#PrintStream"><span class="toc-nav-number">13.4.2.</span> <span class="toc-nav-text">PrintStream</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D%E5%AE%9E%E6%88%98"><span class="toc-nav-number">13.5.</span> <span class="toc-nav-text">文件拷贝实战</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Properties-%E7%B1%BB"><span class="toc-nav-number">14.</span> <span class="toc-nav-text">Properties 类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">15.</span> <span class="toc-nav-text">线程</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%9C%BA%E5%88%B6"><span class="toc-nav-number">15.1.</span> <span class="toc-nav-text">多线程机制</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">15.2.</span> <span class="toc-nav-text">创建线程</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%90%AF%E5%8A%A8%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">15.3.</span> <span class="toc-nav-text">启动线程</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%BB%88%E6%AD%A2%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">15.4.</span> <span class="toc-nav-text">终止线程</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-nav-number">15.5.</span> <span class="toc-nav-text">常用方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">15.6.</span> <span class="toc-nav-text">用户线程和守护线程</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-nav-number">15.7.</span> <span class="toc-nav-text">生命周期</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6"><span class="toc-nav-number">15.8.</span> <span class="toc-nav-text">线程同步机制</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%BA%92%E6%96%A5%E9%94%81"><span class="toc-nav-number">15.9.</span> <span class="toc-nav-text">互斥锁</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%BA%BF%E7%A8%8B%E6%AD%BB%E9%94%81"><span class="toc-nav-number">15.10.</span> <span class="toc-nav-text">线程死锁</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%87%8A%E6%94%BE%E9%94%81"><span class="toc-nav-number">15.11.</span> <span class="toc-nav-text">释放锁</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-nav-number">16.</span> <span class="toc-nav-text">网络编程</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ip%E5%9C%B0%E5%9D%80"><span class="toc-nav-number">16.1.</span> <span class="toc-nav-text">ip地址</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#IPV4"><span class="toc-nav-number">16.2.</span> <span class="toc-nav-text">IPV4</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%9F%9F%E5%90%8D"><span class="toc-nav-number">16.3.</span> <span class="toc-nav-text">域名</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%AB%AF%E5%8F%A3"><span class="toc-nav-number">16.4.</span> <span class="toc-nav-text">端口</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#TCP-IP-%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">16.5.</span> <span class="toc-nav-text">TCP&#x2F;IP 协议</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#TCP-UDP"><span class="toc-nav-number">16.6.</span> <span class="toc-nav-text">TCP&#x2F;UDP</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#InetAddress%E7%B1%BB"><span class="toc-nav-number">16.7.</span> <span class="toc-nav-text">InetAddress类</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Socket"><span class="toc-nav-number">16.8.</span> <span class="toc-nav-text">Socket</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%9B%86%E5%90%88"><span class="toc-nav-number">17.</span> <span class="toc-nav-text">集合</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#List"><span class="toc-nav-number">17.1.</span> <span class="toc-nav-text">List</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ArrayList%E3%80%81LinkedList-%E5%92%8C-Vector-%E5%8C%BA%E5%88%AB"><span class="toc-nav-number">17.1.1.</span> <span class="toc-nav-text">ArrayList、LinkedList 和 Vector 区别</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Set"><span class="toc-nav-number">17.2.</span> <span class="toc-nav-text">Set</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#HashSet"><span class="toc-nav-number">17.2.1.</span> <span class="toc-nav-text">HashSet</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Map"><span class="toc-nav-number">17.3.</span> <span class="toc-nav-text">Map</span></a></li></ol></li></ol>
        
        </div>
      </aside>
    



      <!-- Sidebar Container -->
      <div class="
                col-lg-8 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

        <!-- Featured Tags -->
        
        <section>
          <!-- no hr -->
          <h5>
            <a href="/tags/">特色标签</a>
          </h5>
          <div class="tags">
            
            <a class="tag" href="/tags/#java" title="java">java</a>
            
          </div>
        </section>
        

        <!-- Friends Blog -->
        
        <hr>
        <h5>链友</h5>
        <ul class="list-inline">

          
          <li>
            <a href="https://redamancyyou.github.io/" target="_blank">狗熊岭在逃熊二</a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</article>



<!-- anchorjs start -->
<!-- async load function -->
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script type="text/javascript">
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function(e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  };
</script>
<script type="text/javascript">
  //anchor-js, Doc:http://bryanbraun.github.io/anchorjs/
  async ("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js", function() {
    anchors.options = {
      visible: 'hover',
      placement: 'left',
      // icon: 'ℬ'
      icon: '❡'
    };
    anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
  });
</script>
<style>
  /* place left on bigger screen */
  @media all and (min-width: 800px) {
    .anchorjs-link {
      position: absolute;
      left: -0.75em;
      font-size: 1.1em;
      margin-top: -0.1em;
    }
  }
</style>

<!-- anchorjs end -->



		<!-- Footer (contains ThemeColor、viewer) -->
		<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          

          

          

          

          

          

          

          

        </ul>
        <p class="copyright text-muted">
          Copyright &copy;
          lidzknyy
          2022
          <br>
          Theme by
          <a target="_blank" rel="noopener" href="http://beantech.org">BeanTech</a>
          <span style="display: inline-block; margin: 0 5px;">
            <i class="fa fa-heart"></i>
          </span>
          re-Ported by
          <a target="_blank" rel="noopener" href="https://v-vincen.life/">Live My Life</a>
          |
          <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=V-Vincen&repo=V-Vincen.github.io&type=star&count=true"></iframe>
        </p>
      </div>
    </div>
  </div>
</footer>

<a id="rocket" href="#top" class=""></a>


  <!-- jQuery -->
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  <!-- Custom Theme JavaScript -->
  <script type="text/javascript" src="/js/hux-blog.min.js"></script>
  <!-- catalog -->
  <script async="true" type="text/javascript" src="/js/catalog.js"></script>
  <!-- totop(rocket) -->
  <script async="true" type="text/javascript" src="/js/totop.js"></script>

  
    <!-- Busuanzi JavaScript -->
    <script async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <!-- Scroll start -->
    <script async="async" type="text/javascript" src="/js/scroll.js"></script>
    <!-- Scroll end -->
  

  
    <!-- LangSelect start -->
    <script type="text/javascript" src="/js/langselect.js"></script>
    <!-- LangSelect end -->
  

  
    <!-- Mouseclick -->
    <script type="text/javascript" src="/js/mouseclick.js" content='The first step is as good as half over...,Laugh and grow fat...,Man proposes God disposes...,When all else is lost the future still remains...,Wasting time is robbing oneself...,Sharp tools make good work...,Cease to struggle and you cease to live...,A friend in need is a friend indeed...,Faith can move mountains...' color='#9933CC,#339933,#66CCCC,#FF99CC,#CCCCFF,#6666CC,#663399,#66CC99,#FF0033'></script>
  

  
    <!-- ribbon -->
    <script type="text/javascript" src="/js/ribbonDynamic.js"></script>
  

  






  <!-- viewer start -->
  <!-- viewer start (Picture preview) -->
  
    <script async="async" type="text/javascript" src="/js/viewer/viewer.min.js"></script>
    <script async="async" type="text/javascript" src="/js/viewer/pic-viewer.js"></script>
  

  <!-- viewer end -->


<script>
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function (e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  }

  // fastClick.js
  async ("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
    var $nav = document.querySelector("nav");
    if ($nav)
      FastClick.attach($nav);
    }
  )
</script>

<!-- Because of the native support for backtick-style fenced code blocks right within the Markdown is landed in Github Pages, From V1.6, There is no need for Highlight.js, so Huxblog drops it officially. -
https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0 - https://help.github.com/articles/creating-and-highlighting-code-blocks/ -->
<!-- <script> async ("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function () { hljs.initHighlightingOnLoad(); }) </script> <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet"> -->

<!-- jquery.tagcloud.js -->
<!-- <script> // only load tagcloud.js in tag.html if ($('#tag_cloud').length !== 0) { async ("https://github.com/lidzknyy/lidzknyy.github.io/js/jquery.tagcloud.js", function () { $.fn.tagcloud.defaults = { // size: { start: 1, end: 1, unit: 'em' }, color: {
start: '#bbbbee', end: '#0085a1' } }; $('#tag_cloud a').tagcloud(); }) } </script> -->


		<!-- Search -->
		
		<div class="popup search-popup local-search-popup">
  <span class="popup-btn-close">
    ESC
  </span>
  <div class="container">
    <div class="row">
      <!-- <div class="col-md-9 col-md-offset-1"> -->
      <div class="col-lg-9 col-lg-offset-1 col-md-10 col-md-offset-1 local-search-content">

        <div class="local-search-header clearfix">

          <div class="local-search-input-wrapper">
            <span class="search-icon">
              <i class="fa fa-search fa-lg" style="margin: 25px 10px 25px 20px;"></i>
            </span>
            <input autocomplete="off" placeholder="搜索..." type="text" id="local-search-input">
          </div>
        </div>
        <div id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>


  
    <script src="/js/ziploader.js"></script>
  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    // monitor main search box;
    var onPopupClose = function (e) {
      $('.popup').fadeOut(300);
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $('.popup').fadeIn(300);
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    // get search zip version
    $.get('/searchVersion.json?t=' + (+new Date()), function (res) {
      if (localStorage.getItem('searchVersion') !== res) {
        localStorage.setItem('searchVersion', res);
        initSearchJson();
      }
    });

    function initSearchJson() {
      initLoad(['/search.flv'], {
        loadOptions: {
          success: function (obj) {
            localStorage.setItem('searchJson', obj['search.json'])
          },
          error: function (e) {
            return console.log(e)
          }
        },
        returnOptions: {
          'json': TYPE_TEXT
        },
        mimeOptions: {
          'json': 'application/json'
        }
      })
    }
    // search function;
    var searchFunc = function (search_id, content_id) {
      'use strict';
      isfetched = true;
      var datas = JSON.parse(localStorage.getItem('searchJson'));
      // console.log(search_id)
      var input = document.getElementById(search_id);
      var resultContent = document.getElementById(content_id);
      var inputEventFunction = function () {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          // perform local searching
          datas.forEach(function (data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title
              ? data.title.trim()
              : '';
            var titleInLowerCase = title.toLowerCase();
            var content = data.content
              ? data.content.trim().replace(/<[^>]+>/g, "")
              : '';
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);

            var date = data.date;
            var dateTime = date.replace(/T/, " ").replace(/.000Z/, "");
            var imgUrl = data.header_img;
            


            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            keywords.forEach(function (keyword) {
              function getIndexByWord(word, text, caseSensitive) {
                var wordLen = word.length;
                if (wordLen === 0) {
                  return [];
                }
                var startPosition = 0,
                  position = [],
                  index = [];
                if (!caseSensitive) {
                  text = text.toLowerCase();
                  word = word.toLowerCase();
                }
                while ((position = text.indexOf(word, startPosition)) > -1) {
                  index.push({position: position, word: word});
                  startPosition = position + wordLen;
                }
                return index;
              }
              indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
              indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
            });
            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
              isMatch = true;
              hitCount = indexOfTitle.length + indexOfContent.length;
            }
            // show search results
            if (isMatch) {
              // sort index by position of keyword
              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });
              // merge hits into slices
              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;
                  // move to next position of hit
                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice};
              }
              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }
              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if (start < 0) {
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if (end > content.length) {
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }
              // sort slices in content by search text's count and hits' count
              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });
              // select top N slices in content
              var upperBound = parseInt('1');
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }
              // highlight title and content
              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }
              var resultItem = '';

              // if (slicesOfTitle.length != 0) {   resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>"; } else {   resultItem += "<li><a target='_blank' href='" +
              // articleUrl + "' class='search-result-title'>" + title + "</a>"; } slicesOfContent.forEach(function (slice) {   resultItem += "<a target='_blank' href='" + articleUrl + "'><p class=\"search-result\">" + highlightKeyword(content, slice) +
              // "...</p></a>"; }); resultItem += "</li>";

              if (slicesOfTitle.length != 0) {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</div><time class='search-result-date'>" + dateTime + "</time>";
              } else {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + title + "</div><time class='search-result-date'>" + dateTime + "</time>";
              }
              slicesOfContent.forEach(function (slice) {
                resultItem += "<p class=\"search-result-content\">" + highlightKeyword(content, slice) + "...</p>";
              });
              resultItem += "</div><div class='search-result-right'><img class='media-image' src='" + imgUrl + "' width='64px' height='48px'></img></div></a>";

              resultItems.push({item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length});
            }
          })
        };

        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<div class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</div>";
          resultContent.innerHTML = searchResultList;
        }
      }
      if ('auto' === 'auto') {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }
      // remove loading animation
      $('body').css('overflow', '');
      proceedsearch();
    }
    // handle and trigger popup window;
    $('.popup-trigger').click(function (e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc('local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });
    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function (e) {
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });

    document.addEventListener('mouseup', (e) => {
      var _con = document.querySelector(".local-search-content");
      if (_con) {
        if (!_con.contains(e.target)) {
          onPopupClose();
        }
      }
    });
  </script>


		
	<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
