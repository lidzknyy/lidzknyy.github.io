<!DOCTYPE html>
<html lang="en">

<!-- Head tag (contains Google-Analytics、Baidu-Tongji)-->
<head>
  <!-- Google Analytics -->
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-xxxxxx-xx"></script>
    <script type="text/javascript">
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-xxxxxx-xx');
    </script>
  

  <!-- Baidu Tongji -->
  
    <script type="text/javascript">
      // Originial
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  <!-- Baidu Push -->
  
    <script>
      (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
      })();
    </script>
  

  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

  <meta name="google-site-verification" content="lxDfCplOZbIzjhG34NuQBgu2gdyRlAtMB4utP5AgEBc"/>
  <meta name="baidu-site-verification" content="PpzM9WxOJU"/>

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="It&#39;s an IT blog..."/>
  <meta name="keyword" content="学习, 生活, 爱好"/>
  <link rel="shortcut icon" href="/img/avatar/roguerabbit.jpg"/>

  <!-- Place this tag in your head or just before your close body tag. -->
  <script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script>

  
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/beantech.min.css"/>

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css"/>
    <link rel="stylesheet" href="/css/widget.css"/>
    <link rel="stylesheet" href="/css/rocket.css"/>
    <link rel="stylesheet" href="/css/signature.css"/>
    <link rel="stylesheet" href="/css/catalog.css"/>
    <link rel="stylesheet" href="/css/livemylife.css"/>

    
      <!-- wave start -->
      <link rel="stylesheet" href="/css/wave.css"/>
      <!-- wave end -->
    

    
      <!-- top start (article top hot config) -->
      <link rel="stylesheet" href="/css/top.css"/>
      <!-- top end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="/css/scroll.css"/>
      <!-- ThemeColor end -->
    

    
      <!-- viewer start (Picture preview) -->
      <link rel="stylesheet" href="/css/viewer.min.css"/>
      <!-- viewer end -->
    

    
      <!-- Search start -->
      <link rel="stylesheet" href="/css/search.css"/>
      <!-- Search end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="/css/themecolor.css"/>
      <!-- ThemeColor end -->
    

    

    
      <!-- gitalk start -->
      <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> -->
      <link rel="stylesheet" href="/css/gitalk.css"/>
      <!-- gitalk end -->
    
  

  <!-- Custom Fonts -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- Hux change font-awesome CDN to qiniu -->
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Hux Delete, sad but pending in China <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> <link
  href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/ css'> -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->

  <!-- ga & ba script hoook -->
  <link rel="canonical" href="https://github.com/lidzknyy/lidzknyy.github.io/cn/note/java笔记/">
  <title>
    
      java笔记 - zknyy
    
  </title>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->

	<body ontouchstart="" class="body--light body--dark">


		<!-- ThemeColor -->
		
		<!-- ThemeColor -->
<style type="text/css">
  .body--light {
    --light-mode: none;
    --dark-mode: block;
  }
  .body--dark {
    --light-mode: block;
    --dark-mode: none;
  }
  i.mdui-icon.material-icons.light-mode {
    display: var(--light-mode);
  }
  i.mdui-icon.material-icons.dark-mode {
    display: var(--dark-mode);
  }
</style>
<div class="toggle" onclick="document.body.classList.toggle('body--dark')">
  <i class="mdui-icon material-icons light-mode"></i>
  <i class="mdui-icon material-icons dark-mode"></i>
</div>
<script>
  //getCookieValue
  function getCookieValue(a) {
    var b = document.cookie.match('(^|[^;]+)\\s*' + a + '\\s*=\\s*([^;]+)');
    return b
      ? b.pop()
      : '';
  }
  let themeMode = 'dark';
  if (getCookieValue('sb-color-mode') && (getCookieValue('sb-color-mode') !== themeMode)) {
    let dbody = document.body.classList;
    themeMode === 'dark' ? dbody.remove('body--dark') : dbody.add('body--dark');
  }

  //setCookieValue
  var toggleBtn = document.querySelector(".toggle");
  toggleBtn.addEventListener("click", function () {
    var e = document.body.classList.contains("body--dark");
    var cookieString = e
      ? "dark"
      : "light";
    var exp = new Date();
    exp.setTime(exp.getTime() + 3 * 24 * 60 * 60 * 1000); //3天过期
    document.cookie = "sb-color-mode=" + cookieString + ";expires=" + exp.toGMTString() + ";path=/";
  });
</script>

		

		<!-- Gitter -->
		

		<!-- Navigation (contains search)-->
		<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">再看你一眼</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <!-- Known Issue, found by Hux: <nav>'s height woule be hold on by its content. so, when navbar scale out, the <nav> will cover tags. also mask any touch event of tags, unfortunately. -->
    <div id="huxblog_navbar">
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/">首页</a>
          </li>

          
          
          
          
          <li>
            <a href="/about/">
              
              关于
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/archive/">
              
              归档
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/categories/">
              
              分类
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/tags/">
              
              标签
              
              
            </a>
          </li>
          
          

          
          <li>
            <a class="popup-trigger">
              <span class="search-icon"></span>搜索</a>
          </li>
          

          <!-- LangSelect -->
          
          
          
          
          
        </ul>
      </div>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav>
<!-- progress -->
<div id="progress">
  <div class="line" style="width: 0%;"></div>
</div>

<script>
  // Drop Bootstarp low-performance Navbar Use customize navbar with high-quality material design animation in high-perf jank-free CSS3 implementation
  var $body = document.body;
  var $toggle = document.querySelector('.navbar-toggle');
  var $navbar = document.querySelector('#huxblog_navbar');
  var $collapse = document.querySelector('.navbar-collapse');

  $toggle.addEventListener('click', handleMagic)

  function handleMagic(e) {
    if ($navbar.className.indexOf('in') > 0) {
      // CLOSE
      $navbar.className = " ";
      // wait until animation end.
      setTimeout(function() {
        // prevent frequently toggle
        if ($navbar.className.indexOf('in') < 0) {
          $collapse.style.height = "0px"
        }
      }, 400)
    } else {
      // OPEN
      $collapse.style.height = "auto"
      $navbar.className += " in";
    }
  }
</script>


		<!-- Post Header (contains intro-header、signature、wordcount、busuanzi、waveoverlay) -->
		<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->

  <style type="text/css">
    .body--light {
      /* intro-header */
      --intro-header-background-image-url-home: url('/img/header_img/newhome_bg.jpg');
      --intro-header-background-image-url-post: url('/img/header_img/lml_bg.jpg');
      --intro-header-background-image-url-page: url('//img/header_img/lml_bg.jpg');
    }
    .body--dark {
      --intro-header-background-image-url-home: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('/img/header_img/newhome_bg.jpg');
      --intro-header-background-image-url-post: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('/img/header_img/lml_bg.jpg');
      --intro-header-background-image-url-page: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('//img/header_img/lml_bg.jpg');
    }

    header.intro-header {
       /*post*/
        background-image: var(--intro-header-background-image-url-post);
        /* background-image: url('/img/header_img/lml_bg.jpg'); */
      
    }

    
      #signature {/*signature*/
        background-image: url('/img/signature/nickname2.png');
      }
    
  </style>





<header class="intro-header">
  <!-- Signature -->
  <div id="signature">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          
          <div class="post-heading">
            <div class="tags">
              
              <a class="tag" href="/tags/#java" title="java">java</a>
              
            </div>
            <h1>java笔记</h1>
            <h2 class="subheading"></h2>
            <span class="meta">
              Posted by lidzknyy on
              2021-08-30
            </span>


            
            <!-- WordCount start -->
            <div class="blank_box"></div>
            <span class="meta">
              Estimated Reading Time <span class="post-count">64</span> Minutes
            </span>
            <div class="blank_box"></div>
            <span class="meta">
              Words <span class="post-count">15.8k</span> In Total
            </span>
            <div class="blank_box"></div>
            <!-- WordCount end -->
            
            
            <!-- 不蒜子统计 start -->
            <span class="meta" id="busuanzi_container_page_pv">
              Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
            </span>
            <!-- 不蒜子统计 end -->
            


          </div>
          
        </div>
      </div>
    </div>
  </div>

  
  <!-- waveoverlay start -->
  <div class="preview-overlay">
    <svg class="preview-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
      </defs>
      <g class="preview-parallax">
        <use xlink:href="#gentle-wave" x="48" y="0" fill=var(--gentle-wave1)></use>
        <use xlink:href="#gentle-wave" x="48" y="3" fill=var(--gentle-wave2)></use>
        <use xlink:href="#gentle-wave" x="48" y="5" fill=var(--gentle-wave3)></use>
        <use xlink:href="#gentle-wave" x="48" y="7" fill=var(--gentle-wave)></use>
      </g>
    </svg>
  </div>
  <!-- waveoverlay end -->
  

</header>



		<!-- Main Content (Post contains
	Pager、
	tip、
	socialshare、
	gitalk、gitment、disqus-comment、
	Catalog、
	Sidebar、
	Featured-Tags、
	Friends Blog、
	anchorjs、
	) -->
		<!-- Modify by Yu-Hsuan Yen -->
<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <!-- Post Container -->
      <div class="col-lg-8 col-lg-offset-1 col-md-10 col-md-offset-1 post-container">

        <h2 id="Java的特性和优势">Java的特性和优势</h2>
<ul>
<li>跨平台、可移植性。例：Java 的 int 类型在任何操作系统都是 32 位。</li>
<li>面向对象。封装、继承和多态。</li>
<li>高性能。通过 JIT (Just In Time)，即时编译技术提高运行效率。</li>
<li>健壮性。去掉了指针、内容的申请和释放等；Java不可能导致计算机崩溃，若程序出现崩溃，会通过异常抛出，再通过异常处理机制加以处理。</li>
<li>安全性。</li>
<li>分布式。</li>
<li>多线程。</li>
</ul>
<h3 id="JDK、JRE、JVM">JDK、JRE、JVM</h3>
<ul>
<li>JDK (Java Development Kit)：java 开发工具包。包含 JRE 以及增加编译器和调试器等用于程序开发的文件。</li>
<li>JRE (Java Runtime Environment)：java 运行环境。包含 JVM、库函数、运行 java 应用程序所必需的文件。</li>
<li>JVM (Java Virtual Machine)：java 虚拟机。JVM 屏蔽了底层运行平台的差别，是实现跨平台、可移植性特性的核心。定义了指令集、寄存器集、结构栈、垃圾收集堆、内存区域。JVM 负责将 Java 字节码解释运行。</li>
</ul>
<p><img src="C:/Users/%E6%9D%8E%E5%A4%9A/AppData/Roaming/Typora/typora-user-images/image-20220923231448743.png" alt="image-20220923231448743"></p>
<p><img src="C:/Users/%E6%9D%8E%E5%A4%9A/AppData/Roaming/Typora/typora-user-images/image-20220923233140051.png" alt="image-20220923233140051"></p>
<p>如果只是运行 Java程序 或者 玩 Java开发的游戏，则只需要 JRE 就可以。如果要开发 Java 程序，则需要 JDK。</p>
<h2 id="变量">变量</h2>
<p>变量的本质就是代表一个“可操作的存储空间”，空间位置是确定的，但存放的值不确定。可以通过变量名来访问对应的存储空间，从而操纵这个存储空间存放的值。</p>
<ul>
<li>局部变量、成员变量和静态变量的区别</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>声明位置</th>
<th>从属于</th>
<th>生命周期（作用域）</th>
</tr>
</thead>
<tbody>
<tr>
<td>局部变量</td>
<td>方法或语句块内</td>
<td>方法/语句块</td>
<td>声明 —&gt; 方法/语句块结束</td>
</tr>
<tr>
<td>成员变量（实例变量）</td>
<td>类内部、方法外部</td>
<td>对象</td>
<td>对象创建 —&gt; 销毁</td>
</tr>
<tr>
<td>静态变量（类变量）</td>
<td>类内部、static 修饰</td>
<td>类</td>
<td>类加载 —&gt; 卸载</td>
</tr>
</tbody>
</table>
<h3 id="数据类型">数据类型</h3>
<p><img src="C:/Users/%E6%9D%8E%E5%A4%9A/AppData/Roaming/Typora/typora-user-images/image-20220924135121841.png" alt="image-20220924135121841"></p>
<p>注意：</p>
<ul>
<li>Java 中整型常数默认为 int 型，声明 long 型变量时后面加上 L 或 l。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> a = <span class="number">99999999</span>;        <span class="comment">// 编译通过，在 int 范围内</span></span><br><span class="line"><span class="keyword">long</span> a = <span class="number">99999999999</span>;	  <span class="comment">// 编译错误，超出 int 范围，需要加 L 或 l</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Java 中浮点型常数默认为 double 类型，在定义 float 变量时，带上 F 或 f。</li>
<li>浮点数运算会产生误差，如果需要进行不产生舍入误差的精确数字计算，需要使用 BigDecimal 类。</li>
<li>String 类，是字符序列，本质是 char 数组。</li>
</ul>
<h3 id="包装类">包装类</h3>
<p>八种基本数据类型都有其对应的包装类。Byte、Short、Integer、Long、Float、Double、Character、Boolean。</p>
<p>包装类解决了基本数据类型无法做到的事情：泛型类型参数、序列化、类型转换、高频区间数据缓存。在缓存区间的值可以直接用 == 判断，其它区间的数据都会在堆上产生，并不会复用已有的对象，所以只能用 equals() 方法判断。</p>
<p>Integer 的缓存范围可以更改：在 VM options 加入参数 -XX:AutoBoxCacheMax=666，即可设置最大缓存值为 666。其它包装类的缓存范围不可以修改。</p>
<p>在使用基本数据类型还是包装类，推荐如下方式：</p>
<ul>
<li>所有 POJO 类属性必须使用包装类。</li>
<li>RPC 方法的返回值和参数必须使用包装类。</li>
<li>所有局部变量推荐使用基本数据类型。</li>
</ul>
<h3 id="运算规则">运算规则</h3>
<h4 id="整数运算">整数运算</h4>
<ul>
<li>如果两个操作数有一个为 long ，那结果也为 long。</li>
<li>没有 long 时，结果为 int。即使操作数为 byte、short。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">byte</span> c = a + b;		<span class="comment">// 报错，a+b 的类型为 int</span></span><br></pre></td></tr></table></figure>
<h4 id="浮点运算">浮点运算</h4>
<ul>
<li>如果有一个操作数为 double，则结果为 double。</li>
<li>只有两个操作数都为 float，结果才是 float。</li>
</ul>
<h4 id="取模运算">取模运算</h4>
<ul>
<li>操作数可以为 浮点数，计算结果与左操作数符号相同。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="number">2.5</span> % <span class="number">0.5</span>);     <span class="comment">// 0</span></span><br><span class="line">System.out.println(-<span class="number">3.1</span> % <span class="number">1.3</span>);    <span class="comment">// -0.5</span></span><br><span class="line">System.out.println(<span class="number">7</span> % <span class="number">2</span>);         <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h4 id="自增、自减">自增、自减</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = a++;	<span class="comment">// 先赋值，后自增。b = 10 后 a = 11</span></span><br><span class="line"><span class="keyword">int</span> c = ++a;	<span class="comment">// 先自增，后赋值。a = 12 后 c = 12</span></span><br></pre></td></tr></table></figure>
<h4 id="关系运算">关系运算</h4>
<ul>
<li>==，!= 对所有数据类型适用。</li>
<li>&lt;，&lt;=，&gt;，&gt;= 只对数值类型适用。</li>
<li>运算结果为 boolean 值，true / false。</li>
</ul>
<h4 id="逻辑运算">逻辑运算</h4>
<table>
<thead>
<tr>
<th>运算符（优先级：！&gt; &amp; &gt; |）</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>逻辑与   &amp;</td>
<td>都为 true，结果为 true，否则为 false</td>
</tr>
<tr>
<td>逻辑或   |</td>
<td>有一个 true，结果为 true</td>
</tr>
<tr>
<td>逻辑非   !</td>
<td>取反</td>
</tr>
<tr>
<td>逻辑异或   ^</td>
<td>相同为 false，不同为 true</td>
</tr>
<tr>
<td>短路与   &amp;&amp;</td>
<td>从左至右，有一个 false，返回 false</td>
</tr>
<tr>
<td>短路或   ||</td>
<td>从左至右，有一个 true，返回 true</td>
</tr>
</tbody>
</table>
<p>注：&amp;&amp;  和 || 可以提高效率。</p>
<h4 id="位运算">位运算</h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>取反 ~</td>
<td></td>
</tr>
<tr>
<td>按位与 &amp;</td>
<td></td>
</tr>
<tr>
<td>按位或 |</td>
<td></td>
</tr>
<tr>
<td>按位异或 ^</td>
<td>相同数按位异或结果为 0</td>
</tr>
<tr>
<td>左移 &lt;&lt;</td>
<td>相当乘以 2，右侧补 0</td>
</tr>
<tr>
<td>右移 &gt;&gt;</td>
<td>相当除以 2，左侧补符号位</td>
</tr>
<tr>
<td>无符号右移 &gt;&gt;&gt;</td>
<td>左侧补 0</td>
</tr>
</tbody>
</table>
<h5 id="位移运算">位移运算</h5>
<p>位移运算底层都是补码的位移。</p>
<ul>
<li>原码：正数原码是数值本身，符号位为 0；负数原码是数值本身，符号位为 1；8 为二进制数的表示范围 [-127, 127]。</li>
<li>反码：正数反码是数值本身，符号位为 0；负数反码是<b style="color:#b22">数值部分取反</b>，符号位为 1；8 为二进制数的表示范围 [-127, 127]。</li>
<li>补码：正数补码是数值本身，符号位为 0；负数补码是其反码 + 1，符号位为 1；8 为二进制数的表示范围 [-128, 127]。</li>
</ul>
<p>带符号位移运算（符号位参与移动）</p>
<p>&lt;&lt; 左移：补码移动，右侧补 0，结果为位移后的值的补码。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>&lt;&lt; 1</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>(13)~补~ = 0000 1101</td>
<td>0001 101<font style="color:#2b2">0</font></td>
<td>(0001 101<font style="color:#2b2">0</font>)~补~ = (0001 1010) = 26</td>
</tr>
<tr>
<td>(-13)~补~ = 1111 0011</td>
<td>1110 011<font style="color:#2b2">0</font></td>
<td>(1110 011<font style="color:#2b2">0</font>)~补~ = (1001 1010) = -26</td>
</tr>
<tr>
<td>(-99)~补~ = 1001 1101</td>
<td>0011 101<font style="color:#2b2">0</font></td>
<td>(0011 101<font style="color:#2b2">0</font>)~补~ = (0011 1010) = 58 (溢出)</td>
</tr>
</tbody>
</table>
<p>&gt;&gt; 右移：补码移动，左侧补 符号位，结果为位移后的值的补码。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>&gt;&gt; 1</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>(13)补 = 0000 1101</td>
<td>0000 011<font style="color:#2b2">0</font></td>
<td>(0000 011<font style="color:#2b2">0</font>)补 = (0000 0110) = 6</td>
</tr>
<tr>
<td>(-13)补 = 1111 0011</td>
<td>1111 100<font style="color:#2b2">1</font></td>
<td>(1111 100<font style="color:#2b2">1</font>)补 = (1000 0111) = -7</td>
</tr>
<tr>
<td>(99)补 = 0110 0011</td>
<td>0011 000<font style="color:#2b2">1</font></td>
<td>(0011 000<font style="color:#2b2">1</font>)补 = (0011 0001) = 49</td>
</tr>
</tbody>
</table>
<p>&gt;&gt;&gt; 无符号右移：符号位参与位移，左侧补 0。结果符号位肯定为 0，补码 = 原码。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>&gt;&gt;&gt; 1</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>(-13)补 = 1111 0011</td>
<td>0111 1001</td>
<td>0111 1001 = 121</td>
</tr>
</tbody>
</table>
<p>正数不断右移的最小值为 0，负数不断右移的最小值为 1。在实际编程中，位移运算仅作用于 int (32位) 和 long (64 位)。假如移动位数是字长的整数倍，无论是否带符号以及移动方向，均为本身。因为移动的位数是一个 mod 32 （long 为 64）的结果，即 13 &gt;&gt; 1 与 13 &gt;&gt; 33 的结果相同，所以有效位移位数为 0 ~ 32-1 位，当位移位数为 31 时，负数的左侧全部为0，最低位是 1 (原来的符号位 1 移动过来的)，故负数右移的最小值为 1。</p>
<h5 id="按位与">按位与 &amp;</h5>
<p>使用场景：</p>
<ul>
<li>获取网段值。</li>
</ul>
<p>IP 地址与掩码 255.255.255.0 进行 按位与运算 得到高24位，即为当前 IP 的网段。</p>
<ul>
<li>判断一个数是否为 2 的幂</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果一个数 num 是 2 的幂，则它的二进制肯定是如下形式：最高位为 1，其它位为 0</span></span><br><span class="line"><span class="comment">// num - 1的二进制形式，则是全部为 1，位数刚好与 num 中 0 的位数相等，故 num &amp; (num-1) = 0 </span></span><br><span class="line"><span class="comment">// 例：8的二进制1000, 7的二进制111, 1000 &amp; 111 = 0</span></span><br><span class="line"></span><br><span class="line"><span class="function">pulic <span class="keyword">boolean</span> <span class="title">isTimesTwo</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (num &amp; (num-<span class="number">1</span>)) == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="条件运算">条件运算</h4>
<p><code>x ? y : z</code>，x 为 boolean 表达式，x 为 true，返回 y，否则返回 z。</p>
<h4 id="连接符">连接符</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;3&quot;</span> + <span class="number">2</span>);        <span class="comment">// 输出 32 (String 类型)</span></span><br><span class="line">System.out.println(<span class="string">&#x27;a&#x27;</span> + <span class="string">&#x27;b&#x27;</span>);      <span class="comment">// 输出 195 (int 类型)</span></span><br></pre></td></tr></table></figure>
<h3 id="自动类型转换">自动类型转换</h3>
<p><img src="C:/Users/%E6%9D%8E%E5%A4%9A/AppData/Roaming/Typora/typora-user-images/image-20220924174356569.png" alt="image-20220924174356569"></p>
<p>注：</p>
<ul>
<li>可以将 <font style="color:#b22">整型常量</font> 直接赋值给 byte、short、char，但值不能超过其范围。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span> a = <span class="number">12</span>;        <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">short</span> b = <span class="number">1234567</span>;   <span class="comment">// 非法，超出 short 范围</span></span><br></pre></td></tr></table></figure>
<ul>
<li>boolean 与任意类型都不可转换，强转都不行。</li>
</ul>
<h3 id="常见错误与解决方案">常见错误与解决方案</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1000000000</span>;   <span class="comment">// 10亿，int最大为 21亿</span></span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> c = a * b;        <span class="comment">// 错误，超出 int 范围，溢出</span></span><br><span class="line"><span class="keyword">long</span> d = a * b;       <span class="comment">// 错误，因为 a，b 都是 int 类型，结果仍为 int，溢出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决方法：</span></span><br><span class="line"><span class="keyword">long</span> d = (<span class="keyword">long</span>)a * b;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> num = <span class="number">100</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">365</span> * <span class="number">80</span>;	<span class="comment">// 溢出，整型常数类型为 int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决方法：</span></span><br><span class="line"><span class="keyword">long</span> num = <span class="number">100</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">365</span> * <span class="number">80L</span>;</span><br><span class="line"><span class="keyword">long</span> num = (<span class="keyword">long</span>)<span class="number">100</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">365</span> * <span class="number">80</span>;</span><br></pre></td></tr></table></figure>
<h2 id="控制语句">控制语句</h2>
<h3 id="if-语句">if 语句</h3>
<p>  if 中若是赋值语句，会将赋值后的左值结果作为条件。但由于任意类型都无法转为 boolean。所以，只要赋值语句的变量不是 boolean 类型，都会编译 error。</p>
<h3 id="switch…case-语句">switch…case 语句</h3>
<p>表达式支持类型：char、byte、short、int 以及对应的包装类和 String 类型。</p>
<h2 id="面向对象">面向对象</h2>
<p>面向对象的三大特征：封装、继承和多态。</p>
<ul>
<li>OOA （Oriented Object Analysis, 面向对象分析）</li>
<li>OOD（Oriented Object Design, 面向对象设计）</li>
<li>OOP（Oriented Object Programming, 面向对象编程）</li>
</ul>
<h3 id="面向对象和面向过程思想的总结">面向对象和面向过程思想的总结</h3>
<ul>
<li>
<p>都是解决问题的思维方式，都是代码组织的方式。</p>
</li>
<li>
<p>面向过程是一种“执行者思维”，解决简单问题用。</p>
</li>
<li>
<p>面向对象是一种“设计者思维”，解决复杂、需要协作的问题。</p>
</li>
<li>
<p>面向对象离不开面向过程</p>
<ul>
<li>
<p>宏观上：通过面向对象进行整体设计。</p>
</li>
<li>
<p>微观上：执行和处理数据，仍然是面向过程。</p>
</li>
</ul>
</li>
</ul>
<h2 id="类">类</h2>
<p>类的定义由访问级别、类型、类名、是否抽象、是否静态、泛型标识、继承/实现关键字、父类/接口名等组成。类型分为 class、interface、enum。</p>
<p>类主要有两部分：成员变量和方法。定义类时，首先应定义成员变量，再写 public 方法，protected 方法，private 方法，setter/getter 方法。</p>
<h3 id="接口与抽象类的区别">接口与抽象类的区别</h3>
<p>相同点：都不能被实例化。</p>
<p>不同点：</p>
<table>
<thead>
<tr>
<th>语法维度</th>
<th>抽象类</th>
<th>接口</th>
</tr>
</thead>
<tbody>
<tr>
<td>定义关键字</td>
<td>abstract</td>
<td>interface</td>
</tr>
<tr>
<td>子类继承或实现关键字</td>
<td>extends</td>
<td>implements</td>
</tr>
<tr>
<td>方法实现</td>
<td>可以有</td>
<td>不能有，jdk8及之后，允许有default方法实现</td>
</tr>
<tr>
<td>方法访问控制符</td>
<td>无限制</td>
<td>有限制，默认是 public abstract 类型</td>
</tr>
<tr>
<td>属性访问控制符</td>
<td>无限制</td>
<td>有限制，默认是 public static final 类型</td>
</tr>
<tr>
<td>静态方法</td>
<td>可以有</td>
<td>不能有，jdk8及以后，允许有</td>
</tr>
<tr>
<td>static{}代码块</td>
<td>可以有</td>
<td>不能有</td>
</tr>
<tr>
<td>本类型之间扩展</td>
<td>单继承</td>
<td>多继承</td>
</tr>
<tr>
<td>本类型之间扩展关键字</td>
<td>extends</td>
<td>extends</td>
</tr>
</tbody>
</table>
<p>抽象类模板式设计，通常是对同类事物相对具体的抽象，被继承时体现 is-a 关系，is-a 关系需要符合里氏代换原则。</p>
<p>接口是契约式设计，通常是对一组动作的约定，被实现时体现 can-do 关系，can-do 关系需要符合接口隔离原则。</p>
<h3 id="对象">对象</h3>
<p>对象是类的实例化，也叫实例。</p>
<p>对象分三块存储区域：对象头（对象标记、类元信息）、实例数据、对齐填充。</p>
<ul>
<li>对象头的结构包含：哈希码、GC标记、GC次数、同步锁标记、偏向锁持有者。对象头最小占用空间为 12 B。</li>
<li>实例数据：存储本类对象的实例成员变量和所有可见的父类成员变量。</li>
<li>对齐填充：对象的存储空间分配单位是 8 个字节，如果对象占用大小不是 8 的倍数，则会进行对齐填充操作。例：一个占用大小为 16B 的对象，增加一个 byte 类型成员变量，此时占 17 个字节，但也会分配 24 字节。</li>
</ul>
<h2 id="方法">方法</h2>
<p>方法用于该类或该类的实例的行为特征和功能实现。方法是类和对象行为特征的抽象。</p>
<ul>
<li>面向过程中，函数是最基本单位，整个程序有一个个函数调用组成。</li>
<li>面向对象中，整个程序的基本单位是类，方法是从属于类和对象的。</li>
</ul>
<p>形参：今天 <b style="color:#b22">迟到者</b> 罚款200。（迟到者未知，但有，形参）</p>
<p>实参：今天 <b style="color:#b22">张三</b> 迟到罚款200。（张三迟到，实参，调用罚款方法）</p>
<h3 id="参数预处理">参数预处理</h3>
<ul>
<li>入参保护</li>
</ul>
<p>  入参保护实质上是对服务提供方的保护，常用于批量接口。批量接口是指能同时处理一批数据，但其处理能力并不是无限的，因此需要对入参的数据量进行判断和控制，如果超出处理能力，可以直接返回错误给客户端。</p>
<ul>
<li>参数校验</li>
</ul>
<p>  基于防御式编程理念，对方法调用方传入的参数理性上保持不信任，所以对参数有效值的检测都是非常有必要的。由于方法间交互非常频繁，如果所有方法都进行参数校验，就会导致重复代码及不必要的检查影响性能。</p>
<p>需要进行参数校验的场景：</p>
<ul>
<li>调用频度低的方法。</li>
<li>执行时间开销大。参数校验时间几乎可以忽略不计，但如果因为参数错误导致回退或错误，得不偿失。</li>
<li>需要极高稳定性和可用性的方法。</li>
<li>对外提供的开放接口。</li>
<li>敏感权限入口。</li>
</ul>
<p>不需要参数校验的场景：</p>
<ul>
<li>极有可能被循环调用的方法。但在方法说明里必须注明外部参数检查。</li>
<li>底层调用频度较高的方法。参数错误不太可能到底层才会暴露问题。一般 DAO 层与 Service 层都在同一应用中，部署在同一服务器中，所以省略 DAO 的参数校验。</li>
<li>声明 private 只会被自己代码调用的方法。</li>
</ul>
<h3 id="构造方法">构造方法</h3>
<p>构造方法 (Constructor) 是方法名和类名相同的特殊方法，在新建对象时调用，可以通过不同的构造方法实现不同方式的对象初始化。</p>
<ul>
<li>构造方法名必须与类名相同。</li>
<li>构造方法不能有返回值，void 也不能有。它返回对象的地址，并赋值给引用变量。</li>
<li>构造方法不能被继承、重写，不能被直接调用。调用途径有三种：1. new关键字；2. 子类构造方法中通过 super 调用；3. 通过反射方式获取调用。</li>
<li>类定义时提供了默认的无参构造方法。</li>
<li>构造方法可以私有。</li>
</ul>
<h3 id="重载">重载</h3>
<p>JVM 在重载方法中，选择合适的目标方法的顺序：</p>
<ol>
<li>精确匹配。</li>
<li>如果是基本数据类型，自动转换成更大表示范围的基本类型。</li>
<li>通过自动拆箱、装箱。</li>
<li>通过子类向上转型继承路线依次匹配。</li>
<li>通过可变参数匹配。</li>
</ol>
<h2 id="封装">封装</h2>
<p>作用及含义：追求“高内聚”，“低耦合”。</p>
<ul>
<li>高内聚：类的内部数据操作细节自己完成，不允许外部干涉。</li>
<li>低耦合：仅暴露少量方法给外部使用。</li>
</ul>
<p>优点：</p>
<ul>
<li>提高代码安全性、复用性。</li>
<li>高内聚：封装细节，便于修改内部代码，提高可维护性。</li>
<li>低耦合：简化外部调用，便于调用者使用，便于扩展和维护。</li>
</ul>
<h3 id="封装的实现——访问权限修饰符">封装的实现——访问权限修饰符</h3>
<ul>
<li>private ：只能在同一个类可以访问。</li>
<li>default：同一个包就可以访问。</li>
<li>protected：同一个包可以访问，如果不在同一个包，但有继承关系，可以通过子类实例访问，但不能通过父类实例访问。</li>
<li>public：所有类都可以访问。</li>
</ul>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>同一个类</th>
<th>同一个包</th>
<th>包外子类</th>
<th>所有类</th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td>√</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>无</td>
<td>√</td>
<td>√</td>
<td></td>
<td></td>
</tr>
<tr>
<td>protected</td>
<td>√</td>
<td>√</td>
<td>√ / ×</td>
<td></td>
</tr>
<tr>
<td>public</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
</tbody>
</table>
<p>注：protected 修饰符，如果子类和父类不在同一个包，则不能在子类中 <b style="color:#b22">通过父类对象</b> 去访问该 protected 成员。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 包 A 中</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">protected</span> String b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 包 B 中</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Student.a);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> Student().b);</span><br><span class="line">        System.out.println(Person.a);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> Person().b);		<span class="comment">// error</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="C:/Users/%E6%9D%8E%E5%A4%9A/AppData/Roaming/Typora/typora-user-images/image-20220924183806584.png" alt="image-20220924183806584"></p>
<h3 id="封装的规则">封装的规则</h3>
<ul>
<li>成员变量一般使用 private 修饰符，提供 setter / getter 方法对成员变量进行读写操作。</li>
<li>如果不允许外部直接通过 new 创建对象，构造方法必须是 private。</li>
<li>工具类不允许有 public 或 default 构造方法。</li>
<li>非 static 成员变量并且与子类共享，必须是 protected。</li>
<li>非 static 成员变量并且仅在本类使用，必须是 private。</li>
<li>static 成员变量并且仅在本类使用，必须是 private。</li>
<li>如果是 static 成员变量，必须考虑是否为 final。</li>
<li>仅供内部使用的方法，必须是 private。</li>
<li>方法只对继承类公开，必须是 protected。</li>
</ul>
<h2 id="继承">继承</h2>
<ul>
<li>Java 对类只支持单继承（使用 extends），对接口可以进行多继承（使用 implements）。</li>
<li>子类拥有父类 非private 属性和方法，子类可以对父类进行扩展。</li>
<li>子类可以重写父类方法。</li>
</ul>
<p>缺点：提高了类之间的耦合性。</p>
<p>谨慎使用继承，避免继承造成的方法污染和方法爆炸。</p>
<ul>
<li>方法污染：父类具备的行为，通过继承传递给子类，子类并不具备执行此行为的能力。例如，鸟会飞，鸵鸟继承鸟，发现飞不了。</li>
<li>方法爆炸：继承树不断扩大，底层类拥有的方法虽然都能执行，但是由于方法众多，其中部分方法并非与当前类的功能定位相关。</li>
</ul>
<p>优先采用组合或聚合类关系进行扩展类的功能。</p>
<h3 id="this">this</h3>
<p>对象创建过程：对象通过 new 关键字调用构造方法，构造方法返回该类的对象，但对象不完全由构造方法创建。</p>
<ol>
<li>加载类信息</li>
<li>分配对象空间，并初始化成员变量为默认值。（this）</li>
<li>执行属性值的显示初始化。（成员变量赋有初值）</li>
<li>执行构造方法。</li>
<li>返回对象地址给相关变量。（将 this 返回）</li>
</ol>
<p>this 的本质就是创建好的对象的地址。在构造方法被调用前，对象已经被创建。在构造方法中，this表示当前对象。</p>
<ul>
<li>this 是作为普通方法的隐式参数，由系统传出到方法中。</li>
<li>普通方法中，this 指向调用该方法的对象；构造方法中，this 指向要初始化的对象。</li>
</ul>
<p>this的常用方法：</p>
<ul>
<li>在产生二义性处。</li>
<li>使用 this() 调用重载的构造方法。但只能在构造方法处使用，且只能位于第一句。</li>
<li>不能用于 static 方法中。</li>
</ul>
<h3 id="super">super</h3>
<p>super关键字：通过super关键字实现对父类成员的访问，用来引用当前对象的父类。</p>
<ul>
<li>
<p>一般用来调用父类中被子类重写的方法或成员变量。</p>
</li>
<li>
<p>super 调用普通方法，语句可在类的所有方法中的任意位置。</p>
</li>
<li>
<p>在一个类中，若是构造方法的第一行没有调用 this() 或者 super()，则默认都会调用 super()，含义是调用父类的无参构造器。</p>
</li>
<li>
<p>若是在父类中定义多个构造方法时，应包括一个无参构造器，防止子类构造方法省略 super() 时出现错误。</p>
</li>
</ul>
<h2 id="多态">多态</h2>
<p>多态是指在编译层面无法确定最终调用的方法体，在运行期由 JVM 进行动态绑定，调用合适的重写方法体来执行。多态建立在封装和继承基础之上，体现在 override（重写） 和 overload（重载）。</p>
<p>对象的多态：</p>
<ul>
<li>一个对象的编译类型和运行类型可以不一致。</li>
<li>编译类型在定义对象时，就确定了，不能改变。</li>
<li>运行类型是可以变化的。</li>
<li>编译类型看 = 左边，运行类型看 = 右边。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = <span class="keyword">new</span> Dog();		<span class="comment">// animal 的编译类型是 Animal, 运行类型是 Dog</span></span><br><span class="line">animal = <span class="keyword">new</span> Cat(); 			<span class="comment">// animal 的运行类型变为 Cat， 但编译类型还是 Animal</span></span><br></pre></td></tr></table></figure>
<p>向上转型：父类引用指向子类对象</p>
<ul>
<li>可以调用父类中的所有成员【需遵守访问权限】</li>
<li>不能调用子类的特有成员【因为在编译阶段，能调用哪些由编译类型决定】</li>
<li>最终运行效果看子类的具体实现【调用方法时，先从运行类型中寻找，然后逐级向上查找。==属性没有重写，属性的值看编译类型==】</li>
</ul>
<p>向下转型：将父类引用强转为子类对象</p>
<ul>
<li>只能强转父类引用，不能强转父类对象</li>
<li>要求父类的引用必须指向的是当前目标类型的对象</li>
<li>向下转型后，可以调用子类类型中的特有成员</li>
</ul>
<h3 id="动态绑定机制">动态绑定机制</h3>
<p>当调用对象方法时，该方法会和该对象的==运行类型==绑定。</p>
<p>当调用对象属性时，没有动态绑定机制，哪里声明哪里使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getI() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> i = <span class="number">20</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    public int sum() &#123;</span></span><br><span class="line"><span class="comment">        return getI() + 10;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    public int sum1() &#123;</span></span><br><span class="line"><span class="comment">        return i + 10;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">// a 的编译类型 A，运行类型 B</span></span><br><span class="line">xxxxxxxxA a = <span class="keyword">new</span> B();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 1.在 B 中找 sum() 方法，没有找到</span></span><br><span class="line">        <span class="comment">// 2.在 B 的父类 A 中找 sum() 方法，调用 getI() 方法</span></span><br><span class="line">        <span class="comment">// 3.动态绑定机制，a 与其运行类型 B 绑定，调用 B 中的 getI() 方法，返回 B 的属性 i = 20</span></span><br><span class="line">        System.out.println(a.sum());	<span class="comment">// 30</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 1.在 B 中找 sum()1 方法，没有找到</span></span><br><span class="line">        <span class="comment">// 2.在 B 的父类 A 中找 sum()1 方法，返回 i + 10</span></span><br><span class="line">        <span class="comment">// 3.属性没有动态绑定机制，所以返回 A 的属性 i = 10</span></span><br><span class="line">        System.out.println(a.sum1());	<span class="comment">// 20</span></span><br><span class="line">xxxx&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多态数组">多态数组</h3>
<p>数组定义类型为父类类型，保存的元素类型为子类类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Student【study(), say()】，Teacher【teach(), say()】 extends Person【say()】</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">    Person[] persons = <span class="keyword">new</span> Person[<span class="number">5</span>];</span><br><span class="line">    <span class="comment">// params: name, age</span></span><br><span class="line">    persons[<span class="number">0</span>] = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// params: name, age, score</span></span><br><span class="line">    persons[<span class="number">1</span>] = <span class="keyword">new</span> Student(<span class="string">&quot;小红&quot;</span>, <span class="number">20</span>, <span class="number">61</span>);</span><br><span class="line">    persons[<span class="number">2</span>] = <span class="keyword">new</span> Student(<span class="string">&quot;小明&quot;</span>, <span class="number">21</span>, <span class="number">59</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// params: name, age, salary</span></span><br><span class="line">    persons[<span class="number">3</span>] = <span class="keyword">new</span> Teacher(<span class="string">&quot;王刚&quot;</span>, <span class="number">43</span>, <span class="number">1000.5</span>);</span><br><span class="line">    persons[<span class="number">4</span>] = <span class="keyword">new</span> Teacher(<span class="string">&quot;刘兰&quot;</span>, <span class="number">37</span>, <span class="number">1550.0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(Person person : persons) &#123;</span><br><span class="line">        <span class="comment">// 多态</span></span><br><span class="line">        person.say();</span><br><span class="line">        <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Student) &#123;</span><br><span class="line">            <span class="comment">// 向下转型，调用Student特有方法</span></span><br><span class="line">            (Student)person.study();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Teacher) &#123;</span><br><span class="line">            <span class="comment">// 向下转型，调用Teacher特有方法</span></span><br><span class="line">            (Student)person.teach();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多态参数">多态参数</h3>
<p>方法定义的形参类型为父类类型，实参类型允许为子类类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getInfo</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Student) &#123;</span><br><span class="line">        <span class="keyword">return</span> person.getName + <span class="string">&quot;获得成绩：&quot;</span> + (Student) person.getScore();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(person <span class="keyword">instanceof</span> Teacher) &#123;</span><br><span class="line">         <span class="keyword">return</span> person.getName + <span class="string">&quot;获得薪水：&quot;</span> + (Teacher) person.getSalary();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">    Student student = <span class="keyword">new</span> Student(<span class="string">&quot;小红&quot;</span>, <span class="number">20</span>, <span class="number">61</span>);</span><br><span class="line">    getInfo(student);</span><br><span class="line">    </span><br><span class="line">    Teacher teacher = <span class="keyword">new</span> Teacher(<span class="string">&quot;刘兰&quot;</span>, <span class="number">37</span>, <span class="number">1550.0</span>);</span><br><span class="line">    getInfo(teacher);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="override-和-overload-的区别">override 和 overload 的区别</h3>
<p>override 是子类实现接口，或者继承父类时，保持方法签名（方法名称+参数列表）完全相同，实现不同的方法体，是垂直方向上行为的不同实现。重写在编译期无法确定方法调用。</p>
<p>overload 是方法名称相同，方法参数类型或个数不同，是水平方向上行为的不同实现。重载在编译期就可以确定方法调用。</p>
<h2 id="关键字">关键字</h2>
<h3 id="instanceof">instanceof</h3>
<p>语法：对象名  instanceof  类名</p>
<p>判断==对象的运行类型==是否为==XX类型==或==XX类型的子类型==。</p>
<h3 id="transient">transient</h3>
<ul>
<li>transient 只能修饰成员变量，不能修饰类和方法</li>
<li>本地变量不能被 transient 修饰，如果修饰的为用户自定义类变量，则该类需要实现 Serializable 接口</li>
<li>transient 变量不参与序列化，序列化后无法通过反序列化进行访问</li>
<li>使用场景：
<ul>
<li>某属性值可以通过其他属性值推导出来，则该属性不需要序列化</li>
<li>安全性信息，例如：密码，一般情况下不能离开JVM，不能被序列化</li>
</ul>
</li>
</ul>
<h3 id="final">final</h3>
<table>
<thead>
<tr>
<th>修饰范围</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>类</td>
<td>不能被继承</td>
</tr>
<tr>
<td>成员变量</td>
<td>必须初始化，初始化后值不能被修改<br/><br />初始化方式：<br/>1、显式初始化<br/>2、构造方法初始化<br/>3、代码块初始化<br/><br/>static 成员：<br/>1、显式初始化<br/>2、静态代码块初始化</td>
</tr>
<tr>
<td>方法</td>
<td>不能被重写</td>
</tr>
<tr>
<td>局部变量</td>
<td>声明变量时必须初始化，初始化后值不能被修改</td>
</tr>
<tr>
<td>对象</td>
<td>对象的属性值可以修改，但是对象的地址不能被修改<br/>Student s1 = new Student(100, “张三”);<br/>Student s2 = new Student(101, “李四”);<br/><a target="_blank" rel="noopener" href="http://s1.name">s1.name</a> = “王五”;    //  √<br/>s1 = s2;   // ×</td>
</tr>
</tbody>
</table>
<p>注：</p>
<ul>
<li>
<p>final不能修饰构造方法。</p>
</li>
<li>
<p>final和static搭配使用，效率更高，不会导致类加载，底层编译器做了优化。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(Cat.name);	<span class="comment">//汤姆猫。静态代码块没有被加载</span></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(Cat.desc);	<span class="comment">//类被加载，我是一只猫。静态代码块被加载</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String name =  <span class="string">&quot;汤姆猫&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String desc = <span class="string">&quot;我是一只猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;类被加载&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="enum-枚举">enum 枚举</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Week week : Week.values()) &#123;</span><br><span class="line">            System.out.println(week);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//枚举类隐式继承Enum类，所以不能继承其它类，但可以实现接口</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Week</span> </span>&#123;</span><br><span class="line">    <span class="comment">//枚举对象必须写在枚举类的开头，且以【逗号】分隔</span></span><br><span class="line">    MONDAY(<span class="string">&quot;星期一&quot;</span>),</span><br><span class="line">    TUESDAY(<span class="string">&quot;星期二&quot;</span>),</span><br><span class="line">    WEDNESDAY(<span class="string">&quot;星期三&quot;</span>),</span><br><span class="line">    THURSDAY(<span class="string">&quot;星期四&quot;</span>),</span><br><span class="line">    FRIDAY(<span class="string">&quot;星期五&quot;</span>),</span><br><span class="line">    SATURDAY(<span class="string">&quot;星期六&quot;</span>),</span><br><span class="line">    SUNDAY(<span class="string">&quot;星期日&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line"></span><br><span class="line">    Week(String name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exception-异常">Exception 异常</h2>
<p><img src="image-20220721135028990.png" alt="image-20220721135028990"></p>
<p>Exception分为RuntimeException【运行时异常】和【编译时异常】</p>
<ul>
<li>编译时异常，必须通过try-catch或throws处理；</li>
<li>运行时异常，如果不做处理，会默认使用throws方式处理，最终交给JVM处理，即控制台打印异常信息并中断应用程序；</li>
</ul>
<p>ClassCastException：类型转换异常</p>
<p>常见编译异常：</p>
<ul>
<li>SQLException：数据库操作异常</li>
<li>IOException：文件操作异常</li>
<li>FIleNotFoundException：文件不存在市场</li>
<li>ClassNotFoundException：加载类时，类不存在</li>
<li>EOFException：操作文件，到文件末尾，发生异常</li>
<li>IllegalArguementException：参数异常</li>
</ul>
<p>自定义异常：</p>
<p>继承Exception【编译异常】或RuntimeException【一般情况下，继承运行时异常。好处：可以使用默认处理机制】；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">180</span>;</span><br><span class="line">        <span class="keyword">if</span>(!(age &gt;= <span class="number">0</span> &amp;&amp; age &lt;= <span class="number">120</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> AgeException(<span class="string">&quot;年龄有误！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;正确！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AgeException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AgeException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="image-20220721143735778.png" alt="image-20220721143735778"></p>
<h2 id="String-类">String 类</h2>
<ul>
<li>
<p>实现了 Serializable 和 Comparable 接口。</p>
<ul>
<li>
<p>Serializable：String 对象可以序列化，可以在网络传输。</p>
</li>
<li>
<p>Comparable：String 对象可以比较大小。</p>
</li>
</ul>
</li>
<li>
<p>String 类是 final 类，不能被继承。</p>
</li>
<li>
<p>String 类的构造方法很多。</p>
</li>
<li>
<p>String 类有属性 private final char[] values; 用于存放字符串内容。 values不可以指向新的地址，但可以修改值。</p>
</li>
</ul>
<h3 id="创建String对象">创建String对象</h3>
<p>方式一：直接赋值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;hello&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>方式二：调用构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>两种创建 String 对象的区别：</p>
<p>方式一：先从常量池查找是否有 “hello” 的数据空间，如果有，直接指向；否则，重新创建，然后指向。s 最终指向的是常量池的空间地址。</p>
<p>方式二：先在堆中创建空间，里面维护了 value 属性，指向常量池的 “hello” 空间。如果常量池中没有 “hello”，重新创建，如果有，直接通过 value 指向。最终指向的是堆中的空间地址。</p>
<p><img src="image-20220721222646503.png" alt="image-20220721222646503"></p>
<h3 id="intern-方法">intern() 方法</h3>
<p>返回字符串的常量池地址，如果常量池没有该字符串，则创建字符串并返回常量池地址。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">String s2 = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">s1 == s2;						<span class="comment">//False</span></span><br><span class="line">s1.intern() == s2.intern();		<span class="comment">//Ture，都返回 “hello” 常量池地址</span></span><br><span class="line">s2 = s2.intern();				<span class="comment">//False, s2指向堆，s2.intern()返回常量池地址</span></span><br></pre></td></tr></table></figure>
<h3 id="String特性">String特性</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">s = <span class="string">&quot;xyz&quot;</span>;			<span class="comment">//共创建了 2 个对象</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;abc&quot;</span> + <span class="string">&quot;def&quot;</span>;	<span class="comment">//共创建了 1 个对象</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String a = <span class="string">&quot;hello&quot;</span>;		<span class="comment">//指向常量池 hello</span></span><br><span class="line">String b = <span class="string">&quot;abc&quot;</span>;		<span class="comment">//指向常量池 abc</span></span><br><span class="line">String c = a + b;		<span class="comment">//指向堆，value指向常量池 helloabc</span></span><br><span class="line"></span><br><span class="line">c == <span class="string">&quot;helloabc&quot;</span>;	<span class="comment">//False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//String c = a + b; </span></span><br><span class="line"><span class="comment">//底层执行逻辑：</span></span><br><span class="line"><span class="comment">//1. StringBuilder sb = new StringBuilde();</span></span><br><span class="line"><span class="comment">//2. sb.append(a);</span></span><br><span class="line"><span class="comment">//3. sb.append(b);</span></span><br><span class="line"><span class="comment">//4. sb.toString() &#123;return new String(value, 0, count)&#125;	//返回 String 对象</span></span><br></pre></td></tr></table></figure>
<h3 id="StringBuffer">StringBuffer</h3>
<ul>
<li>StringBuffer 对象继承 AbstractStringBuilder 类，字符串内容存储在 AbstractStringBuilder 类的 char[] value 中。</li>
<li>StringBuffer 对象创建时，char[] value 的最小空间为 16.</li>
<li>StringBuffer 对象指向堆空间，字符序列为可变序列，改变字符串内容，不改变地址【注：若改变后的长度太大，则会改变地址】。</li>
</ul>
<h4 id="StringBuffer-String">StringBuffer -&gt; String</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer stringBuffer = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="comment">//方式一：toString()方法</span></span><br><span class="line">String s1 = stringBuffer.toString();</span><br><span class="line"><span class="comment">//方式二：构造方法</span></span><br><span class="line">String s2 = <span class="keyword">new</span> String(stringBuffer);</span><br></pre></td></tr></table></figure>
<h4 id="String-StringBuffer">String -&gt; StringBuffer</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="comment">//方式一：构造方法</span></span><br><span class="line">StringBuffer sb1 = <span class="keyword">new</span> StringBuffer(s);</span><br><span class="line"><span class="comment">//方式二：构造方法 + append()方法</span></span><br><span class="line">StringBuffer sb2 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">sb2.append(s);</span><br></pre></td></tr></table></figure>
<h3 id="StringBuilder">StringBuilder</h3>
<p>StringBuffer的简易版，线程不安全，主要用于单线程。</p>
<h3 id="三者对比">三者对比</h3>
<table>
<thead>
<tr>
<th>类名</th>
<th>区别</th>
</tr>
</thead>
<tbody>
<tr>
<td>String</td>
<td>不可变字符序列，值存储在字符串常量池。<br/>优点：复用性高，多次使用，不用重复创建。<br/>缺点：效率低，如果对字符串需要多次修改，会使大量副本字符串对象残留，降低效率。<br/>使用场景：字符串很少修改，被多个对象引用，比如：配置信息等。</td>
</tr>
<tr>
<td>StringBuffer</td>
<td>可变字符序列，值存储在堆中。<br/>优点：线程安全，可直接在原地址对字符串内容进行修改。<br/>使用场景：字符串存在大量修改操作，且在多线程中。</td>
</tr>
<tr>
<td>StringBuilder</td>
<td>可变字符序列，值存储在堆中，主要用于单线程。<br/>优点：效率最高，可直接在原地址对字符串内容进行修改。<br/>缺点：线程不安全。<br/>使用场景：字符串存在大量修改操作，且在单线程中。</td>
</tr>
</tbody>
</table>
<h2 id="Arrays-类">Arrays 类</h2>
<h3 id="sort">sort()</h3>
<ul>
<li>默认从小到大排序。</li>
<li>自定义排序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arr = &#123;-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>&#125;;</span><br><span class="line"></span><br><span class="line">Arrays.sort(arr, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1 - o2;		<span class="comment">//从小到大</span></span><br><span class="line">        <span class="comment">//return o2 - o1;   //从大到小</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>模拟源码实现接口冒泡排序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysSortCustom</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>&#125;;</span><br><span class="line">        bubble(arr, <span class="keyword">new</span> Comparator() &#123;		<span class="comment">//排序</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (Integer) o2 - (Integer) o1;		<span class="comment">//从大到小排序</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bubble</span><span class="params">(<span class="keyword">int</span>[] arr, Comparator&lt;Integer&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// 大于0，交换，即 arr[j] &lt; arr[j + 1]，故从大到小排序</span></span><br><span class="line">                <span class="keyword">if</span> (c.compare(arr[j], arr[j + <span class="number">1</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    temp = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="binarySearch">binarySearch()</h3>
<ul>
<li>二分查找，使用前提：数组有序</li>
<li>如果找到 key，返回 key 的下标</li>
<li>如果没找到 key， 返回 - ( low - 1 )</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line">xxxxxxxx</span><br><span class="line">    	<span class="comment">//最后一次查找，在 5 和 8 之间，故 low = 4 + 1</span></span><br><span class="line">        System.out.println(Arrays.binarySearch(arr, <span class="number">6</span>));	<span class="comment">//- (5 + 1)</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// binarySearch() 源码</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch0</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> fromIndex, <span class="keyword">int</span> toIndex,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = fromIndex;</span><br><span class="line">        <span class="keyword">int</span> high = toIndex - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (low + high) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> midVal = a[mid];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (midVal &lt; key)</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (midVal &gt; key)</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> mid; <span class="comment">// key found</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -(low + <span class="number">1</span>);  <span class="comment">// key not found.</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="copyOf">copyOf()</h3>
<ul>
<li>
<p>从数组 arr 中，复制 len 个元素到新数组 newArr</p>
</li>
<li>
<p>如果 len &gt; arr.length，则 newArr 后续空间为 null</p>
</li>
<li>
<p>如果 len &lt; 0，则抛出异常 NegativeArraySizeException</p>
</li>
<li>
<p>该方法底层使用System.arraycopy()</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = &#123;-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] newArr = Arrays.copyOf(arr, <span class="number">4</span>);</span><br><span class="line"><span class="comment">//newArr = &#123;-1, 0, 1, 3&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="fill">fill()</h3>
<ul>
<li>填充数组，将数组元素替换为目标值</li>
</ul>
<h3 id="asList">asList()</h3>
<ul>
<li>将 （1, 2, 3, 4）数据转成 List 集合</li>
<li>返回 asList 编译类型 List (接口)</li>
<li>asList 运行类型 java.util.Arrays#ArrayList，是 Arrays 类的静态内部类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AbstractList 实现了 List 接口</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">RandomAccess</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="System-类">System 类</h2>
<ul>
<li>exit()：退出当前程序</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.exit(<span class="number">0</span>)	<span class="comment">// 0 表示“正常状态”退出</span></span><br></pre></td></tr></table></figure>
<ul>
<li>arraycopy()：复制数组元素，比较适合底层调用，一般使用 Arrays.copyOf() 完成复制数组</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] src=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">int</span>[] dest = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * src     	源数组</span></span><br><span class="line"><span class="comment"> * srcPos	源数组开始拷贝位置</span></span><br><span class="line"><span class="comment"> * dest		目标数组</span></span><br><span class="line"><span class="comment"> * destPos	目标数组开始拷贝位置</span></span><br><span class="line"><span class="comment"> * length	拷贝元素个数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">System.arraycopy(src, <span class="number">0</span>, dest, <span class="number">0</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>currentTimeMillens()：返回当前时间距离1970-1-1的毫秒数</li>
<li>gc()：运行垃圾回收机制 System.gc()</li>
</ul>
<h2 id="大数处理">大数处理</h2>
<h3 id="BigInteger">BigInteger</h3>
<p>实例化：需要使用 “ ”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BigInteger bigInteger = <span class="keyword">new</span> BigInteger(<span class="string">&quot;1599999999999999999999999999999&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注：方法参数都为 BigInteger 对象，返回值也为 BigInteger 对象</span></span><br><span class="line"><span class="function">BigInteger <span class="title">add</span><span class="params">(BigInteger)</span> 		<span class="comment">//加</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">subtract</span><span class="params">(BigInteger)</span>	<span class="comment">//减</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">multiply</span><span class="params">(BigInteger)</span>	<span class="comment">//乘</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">divide</span><span class="params">(BigInteger)</span>	<span class="comment">//除</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">gcd</span><span class="params">(BigInteger)</span>		<span class="comment">//最大公因子</span></span></span><br></pre></td></tr></table></figure>
<h3 id="BigDecimal">BigDecimal</h3>
<p>高精度小数运算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在使用 divide 方法时，可能会抛出 ArithmeticException 异常，原因是 除不尽。</span></span><br><span class="line"><span class="comment">// 解决方法：调用时，指定精度，RoundingMode.CEILING，最高精度与分子精度相同</span></span><br><span class="line">BigDecimal num = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;10.0&quot;</span>);</span><br><span class="line">System.out.println(num.divide(<span class="keyword">new</span> BigDecimal(<span class="string">&quot;3.0&quot;</span>), RoundingMode.CEILING));</span><br></pre></td></tr></table></figure>
<p>RoundingMode 枚举类参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 舍入规则</span></span><br><span class="line">UP			<span class="comment">//两边靠拢，即 1.23 和 -1.23 保留一位小数，结果分别为 1.3 和 -1.3</span></span><br><span class="line">DOWN		<span class="comment">//中间靠拢</span></span><br><span class="line">CEILING		<span class="comment">//向大靠拢</span></span><br><span class="line">FLOOR		<span class="comment">//向小靠拢</span></span><br><span class="line">HALF_UP		<span class="comment">//四舍五入</span></span><br><span class="line">HALF_DOWN	<span class="comment">//五舍六入</span></span><br><span class="line">HALF_EVEN	<span class="comment">//银行家舍入法，左边是偶数，则五舍六入；左边是奇数，则四舍五入</span></span><br><span class="line">UNNECESSARY	<span class="comment">//舍掉的位数不为 0，则抛出 ArithmeticException 异常</span></span><br></pre></td></tr></table></figure>
<h2 id="I-O">I/O</h2>
<h3 id="File类">File类</h3>
<p>文件在程序中是以流的形式操作的。</p>
<p><img src="image-20220726123046665.png" alt="image-20220726123046665"></p>
<ul>
<li>流：数据在数据源（文件）和程序（内存）之间经历的路径。</li>
<li>输入流：数据从数据源（文件）到程序（内存）的路径。</li>
<li>输出流：数据从程序（内存）到数据源（文件）的路径。</li>
</ul>
<p>实例化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(String pathname)				<span class="comment">//根据【文件路径】创建</span></span><br><span class="line">File file = <span class="keyword">new</span> File(File parent, String child)		<span class="comment">//根据【父目录文件 + 子路径】创建</span></span><br><span class="line">File file = <span class="keyword">new</span> File(String parent, STring child)	<span class="comment">//根据【父目录 + 子路径】创建</span></span><br><span class="line"></span><br><span class="line">file.createNewFile() <span class="comment">//创建新文件</span></span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;d:\\data.txt&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;file.getName() = &quot;</span> + file.getName());	<span class="comment">//获取文件名</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getAbsolutePath() = &quot;</span> + file.getAbsolutePath());	<span class="comment">//绝对路径</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getParent() = &quot;</span> + file.getParent());				<span class="comment">//父目录，返回String类型</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getParentFile() = &quot;</span> + file.getParentFile());		<span class="comment">//父目录，返回File类型</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.length() = &quot;</span> + file.length());						<span class="comment">//文件大小</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.exists() = &quot;</span> + file.exists());						<span class="comment">//文件是否存在</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.isFile() = &quot;</span> + file.isFile());						<span class="comment">//是否为文件</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.isDirectory() = &quot;</span> + file.isDirectory());			<span class="comment">//是否为目录</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getFreeSpace() = &quot;</span> + file.getFreeSpace());			<span class="comment">//文件所在磁盘分区，剩余空间（不是可用空间）</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getTotalSpace() = &quot;</span> + file.getTotalSpace());		<span class="comment">//总空间</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.getUsableSpace() = &quot;</span> + file.getUsableSpace());		<span class="comment">//可用空间</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.canRead() = &quot;</span> + file.canRead());					<span class="comment">//是否可读</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.canWrite() = &quot;</span> + file.canWrite());					<span class="comment">//是否可写</span></span><br><span class="line">System.out.println(<span class="string">&quot;file.canExecute() = &quot;</span> + file.canExecute());				<span class="comment">//应用程序是否有执行该文件的权限</span></span><br><span class="line"><span class="keyword">if</span> (file.delete()) &#123;						<span class="comment">//删除文件</span></span><br><span class="line">    System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String dirPath = <span class="string">&quot;d:\\myData\\data\\test&quot;</span>;</span><br><span class="line">File file = <span class="keyword">new</span> File(dirPath);</span><br><span class="line">System.out.println(<span class="string">&quot;file.mkdirs() = &quot;</span> + file.mkdirs());		<span class="comment">//创建多级目录【一级目录使用mkdir()】，创建成功返回ture</span></span><br></pre></td></tr></table></figure>
<h3 id="I-O-流">I/O 流</h3>
<ul>
<li>
<p>流的分类</p>
<ul>
<li>
<p>按操作数据的单位：字节流（8 bit）【二进制文件，如：音频、视频】，字符流（按字符）【文本文件】</p>
</li>
<li>
<p>按数据流的流向：输入流，输出流</p>
<table>
<thead>
<tr>
<th>（抽象基类）</th>
<th>字节流</th>
<th>字符流</th>
</tr>
</thead>
<tbody>
<tr>
<td>输入流</td>
<td>InputStream</td>
<td>Reader</td>
</tr>
<tr>
<td>输出流</td>
<td>OutputStream</td>
<td>Writer</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>按流的角色：节点流，处理流/包装流</p>
</li>
</ul>
</li>
<li>
<p>节点流：从一个特定的数据源【例：文件、数组等】 读写数据。</p>
<ul>
<li>节点流是底层流 / 低级流，直接跟数据源相接。</li>
</ul>
</li>
<li>
<p>处理流（包装流）：连接已存在的流【节点流 / 处理流】，为程序提供更强大的读写功能。</p>
<ul>
<li>包装节点流，既可以消除不同节点流的实现差异，也可以提供更方便的方法来完成输入输出。</li>
<li>使用 ==装饰器设计模式== ，不会直接与数据源相连。</li>
<li>优点：
<ul>
<li>性能的提高：主要以增加缓冲的方式来提高输入输出效率。</li>
<li>操作的便捷：处理流提供了一系列便捷的方法来一次输入输出大批量的数据，使用更加灵活方便。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="image-20220728161433663.png" alt="image-20220728161433663"></p>
<h3 id="字节流">字节流</h3>
<h4 id="InputStream">InputStream</h4>
<p><img src="image-20220726231733861.png" alt="image-20220726231733861"></p>
<h5 id="FileInputStream">FileInputStream</h5>
<p>实例化对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileInputStream(String name)</span></span><br><span class="line">String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line"></span><br><span class="line"><span class="comment">// FileInputStream(File file)</span></span><br><span class="line">File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br></pre></td></tr></table></figure>
<p>常用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每个字符的 字节大小 和 文件编码 有关</span></span><br><span class="line"><span class="comment">// 读取失败，都返回 -1</span></span><br><span class="line">fileInputStream.read()			<span class="comment">//每次从文件中读一个字节，返回值：字节值【例：英文字母的ASCII码值】</span></span><br><span class="line">fileInputStream.read(<span class="keyword">byte</span>[] b)	<span class="comment">//批量读取多个字节到数组，返回读取到的字节数【文件末尾读取的字节数 &lt; b 的大小】</span></span><br><span class="line">fileInputStream.read(<span class="keyword">byte</span>[] b, <span class="keyword">int</span> off, <span class="keyword">int</span> len)	<span class="comment">//读 len 个字节从 off 开始存放到 b 中，返回读取到的字节数</span></span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFile02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">    <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">8</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 实例化对象</span></span><br><span class="line">        fileInputStream = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line">        <span class="comment">// 读取文件内容</span></span><br><span class="line">        <span class="keyword">while</span> ((len = fileInputStream.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> String(b, <span class="number">0</span>, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 关闭流</span></span><br><span class="line">            <span class="keyword">assert</span> fileInputStream != <span class="keyword">null</span>;</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="BufferedInputStream">BufferedInputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedInputStream</span><span class="params">(InputStream in)</span></span>;</span><br></pre></td></tr></table></figure>
<h5 id="ObjectInputStream">ObjectInputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="comment">// 提供了 反序列化功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ObjectInputStream</span><span class="params">(InputStream in)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="OutputStream">OutputStream</h4>
<p><img src="image-20220727002414849.png" alt="image-20220727002414849"></p>
<h5 id="FileOutputStream">FileOutputStream</h5>
<p>实例化对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 覆盖写入</span></span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(filePath);</span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 追加写入</span></span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(filePath, ture);</span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file, ture);</span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// write(int b) 写入一个字节</span></span><br><span class="line">fileOutputStream.write(<span class="number">122</span>);</span><br><span class="line">fileOutputStream.write(<span class="string">&#x27;z&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// write(byte[] b) 写入一组</span></span><br><span class="line">String str = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">fileOutputStream.write(str.getBytes());</span><br><span class="line"></span><br><span class="line"><span class="comment">// write(byte[] b, int off, int len) 从 off 开始，写入长度为 len</span></span><br><span class="line">String str = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">fileOutputStream.write(str.getBytes(), <span class="number">0</span>, <span class="number">3</span>);	<span class="comment">// 写入 hel</span></span><br></pre></td></tr></table></figure>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeFile01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;d:\\data.txt&quot;</span>;</span><br><span class="line">    FileOutputStream fileOutputStream = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileOutputStream = <span class="keyword">new</span> FileOutputStream(filePath);</span><br><span class="line">        String str = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">        fileOutputStream.write(str.getBytes());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> fileOutputStream != <span class="keyword">null</span>;</span><br><span class="line">            fileOutputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="BufferedOutputStream">BufferedOutputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedOutputStream</span><span class="params">(OutputStream out)</span></span>;</span><br></pre></td></tr></table></figure>
<h5 id="ObjectOutputStream">ObjectOutputStream</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 装饰器设计模式</span></span><br><span class="line"><span class="comment">// 提供了 序列化功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ObjectOutputStream</span><span class="params">(OutputStream out)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="字符流">字符流</h3>
<h4 id="Reader">Reader</h4>
<p><img src="image-20220727120226443.png" alt="image-20220727120226443"></p>
<h5 id="FileReader">FileReader</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileReader相关方法:</span></span><br><span class="line"><span class="number">1</span>) <span class="keyword">new</span> FileReader(File/String)</span><br><span class="line"><span class="number">2</span>) read();		<span class="comment">// 每次读取单个字符，返回该字符，如果到文件末尾返回-1</span></span><br><span class="line"><span class="number">3</span>) read(<span class="keyword">char</span>[]) <span class="comment">// 批量读取多个字符到数组，返回读取到的字符数，如果到文件末尾返回-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 相关API:</span></span><br><span class="line"><span class="number">1</span>) <span class="keyword">new</span> String(<span class="keyword">char</span>[])			<span class="comment">// 将char[]转换成String</span></span><br><span class="line"><span class="number">2</span>) <span class="keyword">new</span> String(<span class="keyword">char</span>[], off, len)	<span class="comment">// 将char[]的指定部分转换成String</span></span><br></pre></td></tr></table></figure>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileReader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\data.txt&quot;</span>;</span><br><span class="line">    FileReader fileReader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileReader = <span class="keyword">new</span> FileReader(filePath);</span><br><span class="line">        <span class="keyword">while</span>((len = fileReader.read(chars)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(chars, <span class="number">0</span>, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> fileReader != <span class="keyword">null</span>;</span><br><span class="line">            fileReader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="BufferedReader">BufferedReader</h5>
<ul>
<li>关闭时，只需要关闭包装流，底层会自动关闭包装的节点流。</li>
</ul>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bufferedReadFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(filePath));</span><br><span class="line">    String line;</span><br><span class="line">xxxx</span><br><span class="line">    <span class="comment">// 每次读取一行，不会读取换行符</span></span><br><span class="line">    <span class="keyword">while</span>((line = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line">    bufferedReader.close();		<span class="comment">// close() 源码中，关闭的是 FileReader</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Writer">Writer</h4>
<p><img src="image-20220727120916126.png" alt="image-20220727120916126"></p>
<h5 id="FileWriter">FileWriter</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileWriter常用方法</span></span><br><span class="line"><span class="number">1</span>) <span class="keyword">new</span> FileWriter(File/String)		<span class="comment">// 覆盖模式，相当于流的指针在首端</span></span><br><span class="line"><span class="number">2</span>) <span class="keyword">new</span> FileWriter(File/String,<span class="keyword">true</span>)	<span class="comment">// 追加模式，相当于流的指针在尾端</span></span><br><span class="line"><span class="number">3</span>) write(<span class="keyword">int</span>)		<span class="comment">//写入单个字符</span></span><br><span class="line"><span class="number">4</span>) write(<span class="keyword">char</span>[])	<span class="comment">//写入指定数组</span></span><br><span class="line"><span class="number">5</span>) write(<span class="keyword">char</span>[],off,len)	<span class="comment">//写入指定数组的指定部分</span></span><br><span class="line"><span class="number">6</span>) write (string)			<span class="comment">//写入整个字符串</span></span><br><span class="line"><span class="number">7</span>) write(string,off,len)	<span class="comment">//写入字符串的指定部分</span></span><br></pre></td></tr></table></figure>
<p>➢注意:<br>
FileWriter使用后，必须要关闭 (close) 或刷新 (flush) ，否则写入不到指定的文件！</p>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileWriter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String filePath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\data.txt&quot;</span>;</span><br><span class="line">    FileWriter fileWriter = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileWriter = <span class="keyword">new</span> FileWriter(filePath);</span><br><span class="line">        fileWriter.write(<span class="string">&quot;风雨之后， 定见彩虹&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> fileWriter != <span class="keyword">null</span>;</span><br><span class="line">            fileWriter.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="BufferedWriter">BufferedWriter</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bufferedWriterFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(filePath));</span><br><span class="line">    <span class="comment">// 写入一行数据</span></span><br><span class="line">    bufferedWriter.write(<span class="string">&quot;bufferedWriter Successful&quot;</span>);</span><br><span class="line">    <span class="comment">// 换行，插入一个和系统相关的换行符</span></span><br><span class="line">    bufferedWriter.newLine();</span><br><span class="line">    <span class="comment">// 关闭外层流</span></span><br><span class="line">    bufferedWriter.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="序列化和反序列化">序列化和反序列化</h3>
<ul>
<li>序列化：保存数据时，保存==数据的值==和==数据类型==。</li>
<li>反序列化：恢复数据时，恢复==数据的值==和==数据类型==。</li>
<li>需要让某个对象支持序列化机制，则其类必须实现 Serializable【推荐使用】 或 Externalizable【继承Serializable，该接口有两个方法需要实现，所以一般不使用】 接口。</li>
<li>注意事项和细节
<ul>
<li>序列化 和 反序列化 的==读写顺序要一致==</li>
<li>对象要支持 序列化 和 反序列化，其类要实现 Serializable 接口</li>
<li>序列化的类中建议添加 ==SerialVersionUID==，为了提高版本兼容性</li>
<li>序列化对象时，默认将其所有属性都进行序列化，除了 static【序列化保存的是对象状态，static 变量所属类，如果反序列化后 static 变量有值，则该值为当前 JVM 中对应的 static 变量的值】和 transient 属性</li>
<li>序列化对象时，要求 ==其所有属性的类型== 都实现 Serializable 接口</li>
<li>序列化具备可继承性，某类实现序列化，其子类也默认实现序列化</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">xxxx</span><br><span class="line">    <span class="comment">// serialVersionUID 序列化的版本号，可以提高兼容性</span></span><br><span class="line">    <span class="comment">// 在增加/删除属性后，进行反序列化时，只会认为是版本更新，不会认为是新的类</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ObjectInputStream-2">ObjectInputStream</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(filePath));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 反序列化，读取顺序需要和 序列化 顺序一致，否则会抛出 java.io.OptionalDataException</span></span><br><span class="line">System.out.println(ois.readInt());</span><br><span class="line">System.out.println(ois.readBoolean());</span><br><span class="line">System.out.println(ois.readUTF());</span><br><span class="line">System.out.println(ois.readDouble());</span><br><span class="line">System.out.println(ois.readChar());</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Object object = ois.readObject();</span><br><span class="line">    System.out.println(object.getClass());</span><br><span class="line">    System.out.println(object);</span><br><span class="line">xxxx</span><br><span class="line">    <span class="comment">// 1.如果需要调用 Dog 的方法，需要向下转型</span></span><br><span class="line">    <span class="comment">// 2.Dog 类，需要在该文件可以导入</span></span><br><span class="line">    Dog dog = (Dog) object;</span><br><span class="line">    System.out.println(dog.getName());</span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">ois.close();</span><br></pre></td></tr></table></figure>
<h4 id="ObjectOutputStream-2">ObjectOutputStream</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(filePath));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下类型都会装箱，包装类都实现了 Serializable 接口</span></span><br><span class="line">oos.writeInt(<span class="number">100</span>);</span><br><span class="line">oos.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">oos.writeUTF(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">oos.writeDouble(<span class="number">1.2</span>);</span><br><span class="line">oos.writeChar(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义类，若要序列化，则需要实现 Serializable 接口</span></span><br><span class="line">oos.writeObject(<span class="keyword">new</span> Dog(<span class="string">&quot;小黄&quot;</span>, <span class="number">7</span>));</span><br><span class="line">oos.close();</span><br></pre></td></tr></table></figure>
<h3 id="标准输入输出流">标准输入输出流</h3>
<h4 id="InputStream-2">InputStream</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">标准输入流 </span><br><span class="line"><span class="comment">// System 类的 public fianl static InputStream in = null;</span></span><br><span class="line"><span class="comment">// System.in 编译类型 InputStream</span></span><br><span class="line"><span class="comment">// System.in 运行类型 BufferedInputStream</span></span><br><span class="line"><span class="comment">// 表示的是 标准输入，键盘</span></span><br></pre></td></tr></table></figure>
<h4 id="PrintStream">PrintStream</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">标准输出流</span><br><span class="line"><span class="comment">// System 类的 public fianl static PrintStream out = null;</span></span><br><span class="line"><span class="comment">// System.out 编译类型 PrintStream</span></span><br><span class="line"><span class="comment">// System.out 运行类型 PrintStream</span></span><br><span class="line"><span class="comment">// 表示的是 标准输出，显示器</span></span><br></pre></td></tr></table></figure>
<h3 id="文件拷贝实战">文件拷贝实战</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liduo.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liduo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileCopy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String scrFilepath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\img.png&quot;</span>;</span><br><span class="line">        String destFilepath = <span class="string">&quot;D:\\Java\\Java---从头来过\\JavaBasics\\src\\res.png&quot;</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line">        FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">        FileOutputStream fileOutputStream = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileInputStream = <span class="keyword">new</span> FileInputStream(scrFilepath);</span><br><span class="line">            fileOutputStream = <span class="keyword">new</span> FileOutputStream(destFilepath);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 边读边写，一次读取 1kb</span></span><br><span class="line">            <span class="keyword">while</span> ((len = fileInputStream.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                fileOutputStream.write(b, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> fileInputStream != <span class="keyword">null</span>;</span><br><span class="line">                fileInputStream.close();</span><br><span class="line">                <span class="keyword">assert</span> fileOutputStream != <span class="keyword">null</span>;</span><br><span class="line">                fileOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Properties-类">Properties 类</h2>
<p>对 .properties 配置文件进行操作的类，将配置文件中的信息以键值对的形式通过 Properties 类进行读取/写入操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">load</span><span class="params">(Reader / InputStream)</span>			<span class="comment">// 加载配置文件的键值对到 Properties 对象</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">list</span><span class="params">(PrintStream / PrinWriter)</span>		<span class="comment">// 将数据显示到指定设备（文件、控制台等）</span></span></span><br><span class="line"><span class="function">String <span class="title">getProperty</span><span class="params">(String key)</span>			<span class="comment">// 根据 key 获取 value</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 根据 key 获取 value，如果 value 为 null，则返回 defaultValue</span></span></span><br><span class="line"><span class="function">String <span class="title">getProperty</span><span class="params">(String key, String defaultValue)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">/* 1. 设置键值对到 Properties 对象</span></span></span><br><span class="line"><span class="function"><span class="comment"> * 2. 如果 key 存在，就修改 value；不存在，就加入</span></span></span><br><span class="line"><span class="function"><span class="comment"> */</span></span></span><br><span class="line"><span class="function">Object <span class="title">setProperty</span><span class="params">(String key, String value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">/* 1. 将 Properties 对象中的键值对存储到配置文件中，在 IDEA 中，保存信息到配置文件，如果含有中文，会存储为 Unicode 编码</span></span></span><br><span class="line"><span class="function"><span class="comment"> * 2. comments 为配置文件的注释内容，如果不需要，写为 null</span></span></span><br><span class="line"><span class="function"><span class="comment"> */</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">store</span><span class="params">(Writer / OutputStream, String comments)</span></span></span><br></pre></td></tr></table></figure>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CodeQuestion</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> String filePath = <span class="string">&quot;src\\sql.properties&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.创建 Properties 对象</span></span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 2.加载 .properties 配置文件</span></span><br><span class="line">        properties.load(<span class="keyword">new</span> FileReader(filePath));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3.将 key-value 输出到控制台</span></span><br><span class="line">        properties.list(System.out);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4.获取 key为password 的值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;密码 = &quot;</span> + properties.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 5.将 port=3306 键值对加入到 Properties 对象中</span></span><br><span class="line">        properties.setProperty(<span class="string">&quot;port&quot;</span>, <span class="string">&quot;3306&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 6.将更新后的 Properties 对象中的键值对写入到配置文件</span></span><br><span class="line">        properties.store(<span class="keyword">new</span> FileWriter(filePath), <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="线程">线程</h2>
<ul>
<li>线程由进程创建，是进程的一个实体。</li>
<li>单线程：同一时刻，只允许执行一个线程。</li>
<li>多线程：同一时刻，可以执行多个线程，比如：一个qq进程，可以同时打开多个聊天窗口。</li>
<li>并发：同一时刻，多个任务交替执行，造成一种“貌似同时”的错觉。==单核cpu实现的多任务就是并发==。</li>
<li>并行：同一时刻，多个任务同时执行。==多核cpu可以实现并行==。</li>
</ul>
<h3 id="多线程机制">多线程机制</h3>
<ul>
<li>java应用程序运行【进程】—&gt; main 线程 —&gt; 其它线程【 —&gt; 其他线程 】。</li>
<li>主线程不会等其他线程结束后才结束。</li>
<li>所有线程结束后，进程才会结束。</li>
</ul>
<h3 id="创建线程">创建线程</h3>
<ul>
<li>继承 Thread 类，重写 run 方法
<ul>
<li>==Thread 类实现了 Runnable 接口，Thread 的 run() 是重写了 Runnable 接口的 run()==</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">101</span>; i = i + <span class="number">2</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread1.run == &quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>实现 Runnable 接口，重写 run 方法
<ul>
<li>java 单继承机制，如果某一个类已经有一个父类，就无法继承 Thread 类，可以实现 Runnable 接口</li>
<li>不能直接通过 start() 方法启动线程，需要通过 Thread 对象调用 start() 方法【==静态代理模式==】</li>
<li>实现 Runnable 接口方式更加适合多个线程共享一个资源的情况，并且避免了单继承的限制</li>
</ul>
</li>
</ul>
<p><img src="image-20220729104720398.png" alt="image-20220729104720398"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        RunnableTest t = <span class="keyword">new</span> RunnableTest();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 多个线程共享一个资源</span></span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RunnableTest</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Thread.currentThread().getName() 获得线程名</span></span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="启动线程">启动线程</h3>
<p>调用 start() 方法，会执行本地方法 start0() 【查看 Thread类 源码可知，start0() 由 JVM 调用】，线程变为==可运行状态==，最终由 CPU 统一调度。</p>
<p>run() 方法是一个普通的方法，没有真正启动一个线程，如果直接调用，会先执行 run() 的内容，再向下执行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        MyThread myThread = <span class="keyword">new</span> MyThread();</span><br><span class="line">        <span class="comment">// 启动子线程</span></span><br><span class="line">        <span class="comment">// 如果调用 myThread.run()， 会先执行等 run() 执行结束后，再执行下面的语句</span></span><br><span class="line">        myThread.start();</span><br><span class="line">xxxxxxxx</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">60</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主线程 &quot;</span> + i);</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="终止线程">终止线程</h3>
<ul>
<li>当线程完成任务后，自动退出。</li>
<li>通过使用变量来控制 run() 方法退出，即通知方式。</li>
</ul>
<h3 id="常用方法">常用方法</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 线程名</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(String)</span></span></span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span>			<span class="comment">// 普通方法，执行一次 run 方法</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span>		<span class="comment">// 启动线程</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">interrupt</span><span class="params">()</span>	<span class="comment">// 中断线程</span></span></span><br><span class="line"><span class="function"><span class="comment">// 优先级</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setPriority</span><span class="params">(<span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPriority</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">yield</span><span class="params">()</span>		<span class="comment">//线程的礼让，但礼让的时间不确定，且不一定礼让成功</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">()</span>			<span class="comment">//线程的插队。一旦插队成功，肯定先执行完插入线程的所有任务，例：t1.join(), 线程 t1 插队</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setDaemon</span><span class="params">(<span class="keyword">boolean</span> )</span>	<span class="comment">// 设置为守护线程[参数为 ture]</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isDaemon</span><span class="params">()</span>			<span class="comment">// 判断是否为守护线程</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span>		<span class="comment">// 睡眠 单位：ms, static 方法</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">currentThread</span><span class="params">()</span>	<span class="comment">// 获取当前线程, static 方法</span></span></span><br></pre></td></tr></table></figure>
<h3 id="用户线程和守护线程">用户线程和守护线程</h3>
<ul>
<li>用户线程：也叫工作线程，当新成的任务执行完或以通知方式结束。</li>
<li>守护线程：一般为用户线程服务，当所有用户线程结束，守护线程自动结束。</li>
<li>常见的守护线程：垃圾回收机制</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将某个线程设置为守护线程【注：先设置，后启动】</span></span><br><span class="line">Thread t = <span class="keyword">new</span> Thread();</span><br><span class="line">t.setDaem(ture);</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure>
<h3 id="生命周期">生命周期</h3>
<p>线程状态【6 或 7 种状态】</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">State</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    NEW,			<span class="comment">// 尚未启动的线程</span></span><br><span class="line"></span><br><span class="line">    RUNNABLE,		<span class="comment">// 可运行状态，在 JVM 中执行的线程 [分为就绪状态、运行状态]</span></span><br><span class="line"></span><br><span class="line">    BLOCKED,		<span class="comment">// 阻塞状态，等待监视器锁定的线程</span></span><br><span class="line"></span><br><span class="line">    WAITING,		<span class="comment">// 等待另一个线程执行特定动作的线程</span></span><br><span class="line"></span><br><span class="line">    TIMED_WAITING,	<span class="comment">// 等待另一个线程执行动作 达到指定等待时间</span></span><br><span class="line"></span><br><span class="line">    TERMINATED;		<span class="comment">// 已退出的线程</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="image-20220802220318186.png" alt="image-20220802220318186"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 线程状态示例代码</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadState</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> T());</span><br><span class="line">        System.out.println(thread.getName() + <span class="string">&quot;当前状态：&quot;</span> + thread.getState());</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (thread.getState() != Thread.State.TERMINATED) &#123;</span><br><span class="line">            System.out.println(thread.getName() + <span class="string">&quot;当前状态：&quot;</span> + thread.getState());</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(thread.getName() + <span class="string">&quot;当前状态：&quot;</span> + thread.getState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">T</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;hi &quot;</span> + i);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="image-20220802221117957.png" alt="image-20220802221117957"></p>
<h3 id="线程同步机制">线程同步机制</h3>
<p>在多线程编程中，==线程同步机制==保证一些敏感数据，==在任何同一时刻，最多只有一个线程访问==，以保证数据的完整性。</p>
<p>线程同步：即当有一个线程在对内存进行操作时，其它线程都不可以对这个内存地址进行操作，直到该线程完成操作，其它线程才能对该内存地址进行操作。</p>
<p>同步具体实现—synchronized</p>
<ul>
<li>同步代码块</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (对象) &#123;		<span class="comment">// 得到对象的锁，才能操作同步代码</span></span><br><span class="line">xxxx<span class="comment">// 需要被同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>同步方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 放在方法声明处，表示整个方法为同步方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">m</span> <span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 需要被同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread.ticket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liduo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SellTicket</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SellTicket01 sellTicket01 = <span class="keyword">new</span> SellTicket01();</span><br><span class="line">        <span class="keyword">new</span> Thread(sellTicket01, <span class="string">&quot;窗口一&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(sellTicket01, <span class="string">&quot;窗口二&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(sellTicket01, <span class="string">&quot;窗口三&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SellTicket01</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> sellCount = <span class="number">30</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> loop = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (loop) &#123;</span><br><span class="line">            sell();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sellCount &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;票已售空...&quot;</span>);</span><br><span class="line">            loop = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;出售一张票，剩余 &quot;</span> + (--sellCount) + <span class="string">&quot; 张票&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="互斥锁">互斥锁</h4>
<p>对象互斥锁，保证共享数据操作的完整性。</p>
<p>每个对象都有一个“互斥锁”的标记，这个标记用来保证在任一时刻，只能有一个线程访问该对象。</p>
<p>synchronized 与对象的互斥锁联系。修饰对象时，表明该对象在任一时刻只能有一个线程访问。</p>
<p>同步的局限性：导致程序的执行效率降低。</p>
<p>同步方法（非 static）的锁可以是 this，也可以是其他对象（要求是==同一对象==）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 此处的 this 可以替换为由多个线程共享的同一个对象</span></span><br><span class="line">    <span class="keyword">synchronized</span>(<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(sellCount &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;票已售空...&quot;</span>);</span><br><span class="line">            loop = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;出售一张票，剩余 &quot;</span> + (--sellCount) + <span class="string">&quot; 张票&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同步方法（static）的锁为当前类本身。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="comment">// 同步内容</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(Test.class) &#123;</span><br><span class="line">            <span class="comment">// 同步内容</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>同步 非static方法 ：默认锁对象为 this</p>
</li>
<li>
<p>同步 static 方法 ：默认锁对象为 当前类.class</p>
</li>
<li>
<p>实现落地步骤：</p>
<ul>
<li>先分析上锁的代码</li>
<li>选择==同步代码块==或同步方法</li>
<li>要求多个线程的锁对象为同一个</li>
</ul>
</li>
</ul>
<h4 id="线程死锁">线程死锁</h4>
<p>多个线程占用了对方的锁资源，都不相让，导致死锁。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLockDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LockThread lockThread1 = <span class="keyword">new</span> LockThread(<span class="keyword">true</span>);</span><br><span class="line">        LockThread lockThread2 = <span class="keyword">new</span> LockThread(<span class="keyword">false</span>);</span><br><span class="line">        lockThread1.start();</span><br><span class="line">        lockThread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LockThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Object o1 = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Object o2 = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">boolean</span> flag;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LockThread</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o1) &#123;</span><br><span class="line">                System.out.println(getName() + <span class="string">&quot; 获得 锁 o1&quot;</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">                    System.out.println(getName() + <span class="string">&quot; 获得 锁 o2&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">                System.out.println(getName() + <span class="string">&quot; 获得 锁 o2&quot;</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (o1) &#123;</span><br><span class="line">                    System.out.println(getName() + <span class="string">&quot; 获得 锁 o1&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="释放锁">释放锁</h4>
<p>以下操作会释放锁：</p>
<ul>
<li>当前线程的同步方法 / 代码块执行结束。</li>
<li>当前线程在同步方法 / 代码块中遇到break、return。</li>
<li>出现了未处理的 Error 或 Exception，导致异常结束。</li>
<li>执行了线程对象的 wait() 方法，当前线程暂停，并释放锁。</li>
</ul>
<p>以下操作不会释放锁：</p>
<ul>
<li>程序调用 Thread.sleep()、Thread.yield() 方法暂停当前线程的执行。</li>
<li>其它线程调用了该线程的 suspend() 方法将该线程挂起，该线程不会释放锁。
<ul>
<li>注：尽量避免使用 suspend() 和 resume() 控制线程，已不再推荐使用。</li>
</ul>
</li>
</ul>
<h2 id="网络编程">网络编程</h2>
<p>两台设备之间通过网络实现数据传输。</p>
<p>网络通信：将数据通过网络从一台设备传输到另一台设备。</p>
<p>网络：两台或多台设备通过一定的物理设备【交换机、网关服务器、路由等】连接起来构成了网络。</p>
<ul>
<li>局域网：覆盖范围最小，仅覆盖一个教室或机房。</li>
<li>城域网：覆盖范围较大，可以覆盖一个城市。</li>
<li>广域网：覆盖范围最大，可以覆盖全国，甚至全球。例：万维网</li>
</ul>
<h3 id="ip地址">ip地址</h3>
<ul>
<li>用于唯一标识网络中的每台计算机 / 主机</li>
<li>查看 ip 地址：ipconfig</li>
<li>ip 地址（4字节32位）的表示形式（点分十进制）：0~255. 0~255. 0~255. 0~255.</li>
<li>ip 地址 = 网络地址 + 主机地址，例：192.168.16.69</li>
<li>IPV6（16字节128位，冒分16进制） 是互联网工程任务组设计的用于替代 IPV4 的下一代 IP 协议。</li>
<li>IPV4 表示的网络地址资源有限，无法适用于物联网时代多种设备连入互联网的需求。</li>
</ul>
<h3 id="IPV4">IPV4</h3>
<p><img src="image-20220803090925027.png" alt="image-20220803090812387"></p>
<p><img src="image-20220803090812387.png" alt="image-20220803090812387"></p>
<p>==特殊的 127.0.0.1 表示本机地址==</p>
<h3 id="域名">域名</h3>
<p>例：<a target="_blank" rel="noopener" href="http://www.baidu.com">www.baidu.com</a>，与 ip地址 映射。</p>
<h3 id="端口">端口</h3>
<ul>
<li>
<p>用于表示计算机上某个特定的网络程序。</p>
</li>
<li>
<p>表示形式：整数，范围 0 ~ 65535 [2 个字节表示端口 0 ~ 2^16 - 1]</p>
</li>
<li>
<p>0 ~ 1024 已经被占用。例：ssh 22，ftp 21，smtp 25，http 80</p>
</li>
<li>
<p>常见的网络程序端口号：</p>
<ul>
<li>
<p>tomcat：8080</p>
</li>
<li>
<p>mysql：3306</p>
</li>
<li>
<p>oracle：1521</p>
</li>
<li>
<p>SqlServer：1433</p>
</li>
</ul>
</li>
</ul>
<h3 id="TCP-IP-协议">TCP/IP 协议</h3>
<p>在网络编程中，数据的组织形式，就是协议。</p>
<p>TCP / IP (Transmission Control Protocol / Internet Protocol) ，==传输控制协议 / 因特网协议==，又叫网络通讯协议，是 Internet 最基本的协议、是 Internet 国际互联网络基础，是有网络层的 IP 协议和传输层的 TCP 协议组成。</p>
<p><img src="image-20220803100411094.png" alt="image-20220803100411094"></p>
<p><img src="image-20220803101048929.png" alt="image-20220803101048929"></p>
<h3 id="TCP-UDP">TCP/UDP</h3>
<p>TCP 协议：传输控制协议</p>
<ul>
<li>使用 TCP 协议前，须先建立 TCP 连接，行程传输数据通道。</li>
<li>传输前，采用“三次握手”方式，是==可靠的==。</li>
<li>TCP 协议进行通信的两个应用进程：客户端、服务端。</li>
<li>在连接中可进行大数据量的传输。</li>
<li>传输完毕，需释放已建立的连接，==效率低==。</li>
</ul>
<p>UDP 协议：用户数据协议</p>
<ul>
<li>将数据、源、目的封装成数据包，不需要建立连接。</li>
<li>每个数据包的大小限制在 64K 内，==不适合传输大量数据==。</li>
<li>因无需连接，==不可靠==。</li>
<li>发送数据结束时无须释放资源，速度快。</li>
</ul>
<h3 id="InetAddress类">InetAddress类</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">API_</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnknownHostException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取本机的 InetAddress 对象</span></span><br><span class="line">        InetAddress localHost = InetAddress.getLocalHost();</span><br><span class="line">        System.out.println(localHost);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.通过主机名获取 InetAddress 对象</span></span><br><span class="line">        InetAddress host1 = InetAddress.getByName(<span class="string">&quot;LAPTOP-E82KRH0E&quot;</span>);</span><br><span class="line">        System.out.println(host1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.通过域名获取 InetAddress 对象</span></span><br><span class="line">        InetAddress host2 = InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        System.out.println(host2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.通过 InetAddress 对象获取信息</span></span><br><span class="line">        System.out.println(host2.getHostName());            <span class="comment">// 获取主机名 / 域名</span></span><br><span class="line">        System.out.println(host2.getHostAddress());         <span class="comment">// 获取 IP 地址</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Socket">Socket</h3>
<ul>
<li>套接字（socket）开发网络应用程序被广泛采用，已成为一种标准。</li>
<li>通信的两端都要有 Socket ，是两台机器间通信的端点。</li>
<li>网络通信其实就是 Socket 间的通信。</li>
<li>Socket 允许程序把网络连接当成一个流，==数据在两个 Socket 间通过 IO 传输==。</li>
<li>一般主动发起通信的应用程序为客户端，等待通信请求的为服务端。</li>
</ul>
<p><img src="image-20220803105401054.png" alt="image-20220803105401054"></p>
<p>TCP 网络通信编程</p>
<p><img src="image-20220803110153234.png" alt="image-20220803110153234"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 客户端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SocketTCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.连接服务器（ip， 端口号）</span></span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(), <span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;连接成功...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.连接成功后，获取与 socket 对象关联的 输出流对象</span></span><br><span class="line">        OutputStream serverOutputStream = socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.通过输出流，发送消息到服务端</span></span><br><span class="line">        serverOutputStream.write(<span class="string">&quot;hello, server\nhello,world&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.关闭资源</span></span><br><span class="line">        serverOutputStream.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端退出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 服务端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SocketTCPServer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1.在 本机 的 9999 端口监听，等待连接</span></span><br><span class="line">        <span class="comment">// 要求：端口未被占用，ServerSocket 可以通过 accept() 返回多个 Socket[多个客户端连接服务器的并发]</span></span><br><span class="line">        ServerSocket serverSocket= <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端启动，等待连接...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.当没有客户端连接时，会阻塞，等待连接</span></span><br><span class="line">        <span class="comment">//   如果有客户端连接，会返回 Socket 对象，程序继续</span></span><br><span class="line">        Socket socket = serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.通过 socket.getInputStream() 获取，客户端写入到数据通道的数据</span></span><br><span class="line">        InputStream serverInputStream = socket.getInputStream();</span><br><span class="line">        BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(serverInputStream));</span><br><span class="line">        String line;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.将接受到的消息输出到控制台</span></span><br><span class="line">        System.out.println(<span class="string">&quot;接收消息：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> ((line = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.关闭资源</span></span><br><span class="line">        serverInputStream.close();</span><br><span class="line">        bufferedReader.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="数据结构">数据结构</h2>
<p>数据结构是指逻辑意义上的数据组织方式及其相应的处理方式。数据结构的抽象意义表达非常丰富，而实际的物理存储方式相对单一。对于一个二叉树而言，在逻辑意义上，我们想象它就是一棵树的形状，但是在磁盘中存储确不是树状排列。在磁盘中存储可能是基于物理上的顺序存储，一个格子一个格子连续放，第一个格子存储根节点，第二个格子放左子树根节点，并根据引用知道左叶子的后续节点在哪块，以此类推；也有可能是链式存储。</p>
<h3 id="数据结构的分类">数据结构的分类</h3>
<p>线性结构：0 至 1 个直接前驱和直接后继。当线性结构非空时，有唯一的首元素和尾元素，除两者外，其它元素都有其唯一的前驱和后继。线性结构包括：线性表、链表、栈和队列等，其中栈和队列是访问受限的结构，栈为后进先出 (Last In First Out, LIFO)，队列为先进先出 (FIFO)。</p>
<p>数结构：0 至 1 个直接前驱和 0 至 n (n &gt;= 2) 个直接后继。树是一种有层次的非线性结构，树结构比较稳定和均衡。</p>
<p>图结构：0 至 n (n &gt;= 2) 个直接前驱和直接后继。图结构包括简单图、多重图、有向图和无向图等。</p>
<p>哈希结构：没有直接前驱和后继。哈希结构通过某种特定的哈希函数将索引与存储的值关联，是一种查找效率非常高的数据结构。</p>
<h3 id="集合">集合</h3>
<p><img src="java%E7%AC%94%E8%AE%B0/8646658-87b94ba71818d27a.png" alt="8646658-87b94ba71818d27a"></p>
<h4 id="List">List</h4>
<ul>
<li>
<p>List 接口属于 Collection 的一个子接口</p>
</li>
<li>
<p>有序集合，即存储顺序为存放顺序。</p>
</li>
<li>
<p>元素可重复。</p>
</li>
</ul>
<h5 id="ArrayList">ArrayList</h5>
<p>数组结构，使用无参构造器初始化时，默认大小为 10，在第一次进行 add() 操作，分配 10 容量，每次扩容都会调用 Array.copy() 方法，创建新数组复制。</p>
<h5 id="ArrayList、LinkedList-和-Vector-区别">ArrayList、LinkedList 和 Vector 区别</h5>
<p>ArrayList 特点：</p>
<ul>
<li>数组结构</li>
<li>有连续下标，增删操作慢，随机访问效率快</li>
<li>线程不安全</li>
<li>增长因子为 1.5 【加载因子0.75，当 元素个数 超过 容量 的 0.75 倍时，进行扩容，扩容为原来的 1.5 倍】</li>
</ul>
<p>LinkedList 特点：</p>
<ul>
<li>双向链表结构，内存利用率高</li>
<li>增删快，有连续下标，随机访问效率低</li>
<li>线程不安全</li>
<li>增长因子为 2</li>
</ul>
<p>Vector 特点：</p>
<ul>
<li>数组实现</li>
<li>同 ArrayList，整体效率较低（线程同步影响，开销大）</li>
<li>线程安全</li>
<li>增长因子为 2</li>
</ul>
<h4 id="Set">Set</h4>
<ul>
<li>Set 接口属于 Collection 的一个子接口.</li>
<li>元素无序，不可重复。</li>
</ul>
<h5 id="HashSet">HashSet</h5>
<ul>
<li>
<p>按照 Hash 算法存储集合中的元素，具有很好地存取、查询、删除性能</p>
</li>
<li>
<p>不能保证元素的排列顺序</p>
</li>
<li>
<p>线程不安全</p>
</li>
<li>
<p>集合元素可以为 null</p>
</li>
</ul>
<h4 id="Map">Map</h4>
<ul>
<li>双列数据，保存具有映射关系 key-value 的集合。</li>
<li>没有重复的 key，可以有多个重复的 value。</li>
<li>value 可以是 List、Map、Set 类对象。</li>
<li>KV 是否可以为空，以实现类的约束为准。</li>
</ul>
<table>
<thead>
<tr>
<th>Map集合类</th>
<th>Key</th>
<th>Value</th>
<th>Super</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hashtable</td>
<td>不允许为 null</td>
<td>不允许为 null</td>
<td>Dictionary</td>
<td>线程安全（过时）</td>
</tr>
<tr>
<td>ConcurrentHashMap</td>
<td>不允许为 null</td>
<td>不允许为 null</td>
<td>AbstractMap</td>
<td>锁分段技术或 CAS</td>
</tr>
<tr>
<td>TreeMap</td>
<td>不允许为 null</td>
<td>允许为 null</td>
<td>AbstractMap</td>
<td>线程不安全，有序</td>
</tr>
<tr>
<td>HashMap</td>
<td>允许为 null</td>
<td>允许为 null</td>
<td>AbstractMap</td>
<td>线程不安全 ( resize 死链问题)</td>
</tr>
</tbody>
</table>
<p>HashTable</p>
<h5 id="HashMap">HashMap</h5>
<p>默认容量 16</p>
<h3 id="Tree-树">Tree 树</h3>
<ul>
<li>只有一个根节点，也是一棵树。</li>
<li>其中任何一个节点与下面所有节点构成的树称为子树。</li>
<li>根节点没有父节点，叶子节点没有子节点。</li>
<li>除根节点外，任何节点有且仅有一个父节点。</li>
<li>任何节点可以有 0 ~ n 个子节点。</li>
</ul>
<p>节点的高度：从某节点出发，到叶子节点为止，沿最长简单路径上的边数，即是该节点的高度。</p>
<p>节点的深度：从根节点出发，到该节点为止，路径的边数，即为该节点的深度。</p>
<p>二叉树：每个结点最多只有两个子节点的树。</p>
<h4 id="平衡二叉树">平衡二叉树</h4>
<ul>
<li>树的左右高度差不能超过 1。</li>
<li>任何往下递归的左子树和右子树，必须符合第一条性质。</li>
<li>没有任何节点的空树和只有根节点的树也是平衡二叉树。</li>
</ul>
<h4 id="二叉查找树">二叉查找树</h4>
<p>二叉查找树 (Binary Search Tree)，也称二叉排序树 (Binary Sort Tree)。</p>
<p>对于任意节点，它左子树上所有节点值都小于它，右子树上所有节点的值都大于它。</p>
<p>三种遍历方式：先序遍历、中序遍历、后序遍历。</p>
<ul>
<li>在任何递归子树中，左节点一定在右节点之前遍历。</li>
<li>先序（根、左、右）、中序（左、根、右）、后序（左、右、根），仅指根节点在遍历时的顺序。</li>
</ul>


        <hr>
        <!-- Pager -->
        <ul class="pager">
          
          <li class="previous">
            <a href="/cn/note/maven/" data-toggle="tooltip" data-placement="top" title="Maven">&larr; Previous Post</a>
          </li>
          
          
          <li class="next">
            <a href="/cn/note/MySQL/" data-toggle="tooltip" data-placement="top" title="MySQL">Next Post &rarr;</a>
          </li>
          
        </ul>

        
        <!-- tip start -->
        <!-- tip -->
<!-- tip start -->
<div class="tip">
  <p>
    
      如果您喜欢此博客或发现它对您有用，则欢迎对此发表评论。 也欢迎您共享此博客，以便更多人可以参与。 如果博客中使用的图像侵犯了您的版权，请与作者联系以将其删除。 谢谢 ！
    
  </p>
</div>
<!-- tip end -->

        <!-- tip end -->
        

        
        <!-- Sharing Srtart -->
        <!-- Social Social Share Post -->
<!-- Docs:https://github.com/overtrue/share.js -->

<div class="social-share" data-initialized="true" data-disabled="tencent ,douban ,qzone ,linkedin ,facebook ,google ,diandian" data-wechat-qrcode-helper="" align="center">
  <ul class="list-inline text-center social-share-ul">
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-twitter">
        <i class="fa fa-twitter fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a class="social-share-icon icon-wechat">
        <i class="fa fa-weixin fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-weibo">
        <i class="fa fa-weibo fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-qq">
        <i class="fa fa-qq fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon" href="mailto:?subject=java笔记&body=Hi,I found this website and thought you might like it https://github.com/lidzknyy/lidzknyy.github.io/cn/note/java笔记/">
        <i class="fa fa-envelope fa-1x" aria-hidden="true"></i>
      </a>
    </li>
  </ul>
</div>

<!-- css & js -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"> -->
<script defer="defer" async="true" src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>

        <!-- Sharing End -->
        
        <hr>

        <!-- comments start -->
        <!-- 1. gitalk comment -->

  <!-- gitalk start -->
  <!-- Docs:https://github.com/gitalk/gitalk/blob/master/readme-cn.md -->

  <div id="gitalk-container"></div>

  
    <!-- <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.js"></script> -->
    <script src="/js/comment/gitalk.js"></script>
  

  <script>
    var gitalk = new Gitalk({
      clientID: '3a2fb87f10e4af9fe320',
      clientSecret: '21dc47c8207b6e318baa54ac24cb20ac5428c924',
      repo: 'gitalk',
      owner: 'lidzknyy',
      admin: 'lidzknyy',
      id: 'Mon Aug 30 2021 22:09:02 GMT+0800', // Ensure uniqueness and length less than 50
      distractionFreeMode: false, // Facebook-like distraction free mode
      perPage: 10,
      pagerDirection: 'last',
      createIssueManually: false,
      language: 'zh-CN',
      proxy: 'https://cors-anywhere.azm.workers.dev/?https://github.com/login/oauth/access_token'
    });
    gitalk.render('gitalk-container');

    var gtFolded = () => {
      setTimeout(function () {
        let markdownBody = document.getElementsByClassName("markdown-body");
        let list = Array.from(markdownBody);
        list.forEach(item => {
          if (item.clientHeight > 250) {
            item.classList.add('gt-comment-body-folded');
            item.style.maxHeight = '250px';
            item.title = 'Click to Expand';
            item.onclick = function () {
              item.classList.remove('gt-comment-body-folded');
              item.style.maxHeight = '';
              item.title = '';
              item.onclick = null;
            };
          }
        })
      }, 800);
    }
  </script>

  <!-- gitalk end -->


<!-- 2. gitment comment -->


<!-- 3. disqus comment -->


        <!-- comments end -->
        <hr>

      </div>

      <!-- Catalog: Tabe of Content -->
      <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">目录</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Java%E7%9A%84%E7%89%B9%E6%80%A7%E5%92%8C%E4%BC%98%E5%8A%BF"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">Java的特性和优势</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#JDK%E3%80%81JRE%E3%80%81JVM"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">JDK、JRE、JVM</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">变量</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-nav-number">2.1.</span> <span class="toc-nav-text">数据类型</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-nav-number">2.2.</span> <span class="toc-nav-text">包装类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%BF%90%E7%AE%97%E8%A7%84%E5%88%99"><span class="toc-nav-number">2.3.</span> <span class="toc-nav-text">运算规则</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B4%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.1.</span> <span class="toc-nav-text">整数运算</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%AE%E7%82%B9%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.2.</span> <span class="toc-nav-text">浮点运算</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%8F%96%E6%A8%A1%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.3.</span> <span class="toc-nav-text">取模运算</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%87%AA%E5%A2%9E%E3%80%81%E8%87%AA%E5%87%8F"><span class="toc-nav-number">2.3.4.</span> <span class="toc-nav-text">自增、自减</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.5.</span> <span class="toc-nav-text">关系运算</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.6.</span> <span class="toc-nav-text">逻辑运算</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.7.</span> <span class="toc-nav-text">位运算</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E4%BD%8D%E7%A7%BB%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.7.1.</span> <span class="toc-nav-text">位移运算</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%8C%89%E4%BD%8D%E4%B8%8E"><span class="toc-nav-number">2.3.7.2.</span> <span class="toc-nav-text">按位与 &amp;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97"><span class="toc-nav-number">2.3.8.</span> <span class="toc-nav-text">条件运算</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BF%9E%E6%8E%A5%E7%AC%A6"><span class="toc-nav-number">2.3.9.</span> <span class="toc-nav-text">连接符</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E8%87%AA%E5%8A%A8%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-nav-number">2.4.</span> <span class="toc-nav-text">自动类型转换</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-nav-number">2.5.</span> <span class="toc-nav-text">常见错误与解决方案</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">控制语句</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#if-%E8%AF%AD%E5%8F%A5"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">if 语句</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#switch%E2%80%A6case-%E8%AF%AD%E5%8F%A5"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">switch…case 语句</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">面向对象</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E6%80%9D%E6%83%B3%E7%9A%84%E6%80%BB%E7%BB%93"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">面向对象和面向过程思想的总结</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%B1%BB"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">类</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%8E%A5%E5%8F%A3%E4%B8%8E%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-nav-number">5.1.</span> <span class="toc-nav-text">接口与抽象类的区别</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-nav-number">5.2.</span> <span class="toc-nav-text">对象</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-nav-number">6.</span> <span class="toc-nav-text">方法</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%8F%82%E6%95%B0%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-nav-number">6.1.</span> <span class="toc-nav-text">参数预处理</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-nav-number">6.2.</span> <span class="toc-nav-text">构造方法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%87%8D%E8%BD%BD"><span class="toc-nav-number">6.3.</span> <span class="toc-nav-text">重载</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-nav-number">7.</span> <span class="toc-nav-text">封装</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B0%81%E8%A3%85%E7%9A%84%E5%AE%9E%E7%8E%B0%E2%80%94%E2%80%94%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-nav-number">7.1.</span> <span class="toc-nav-text">封装的实现——访问权限修饰符</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B0%81%E8%A3%85%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-nav-number">7.2.</span> <span class="toc-nav-text">封装的规则</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-nav-number">8.</span> <span class="toc-nav-text">继承</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#this"><span class="toc-nav-number">8.1.</span> <span class="toc-nav-text">this</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#super"><span class="toc-nav-number">8.2.</span> <span class="toc-nav-text">super</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-nav-number">9.</span> <span class="toc-nav-text">多态</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E6%9C%BA%E5%88%B6"><span class="toc-nav-number">9.1.</span> <span class="toc-nav-text">动态绑定机制</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A4%9A%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-nav-number">9.2.</span> <span class="toc-nav-text">多态数组</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A4%9A%E6%80%81%E5%8F%82%E6%95%B0"><span class="toc-nav-number">9.3.</span> <span class="toc-nav-text">多态参数</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#override-%E5%92%8C-overload-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-nav-number">9.4.</span> <span class="toc-nav-text">override 和 overload 的区别</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-nav-number">10.</span> <span class="toc-nav-text">关键字</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#instanceof"><span class="toc-nav-number">10.1.</span> <span class="toc-nav-text">instanceof</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#transient"><span class="toc-nav-number">10.2.</span> <span class="toc-nav-text">transient</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#final"><span class="toc-nav-number">10.3.</span> <span class="toc-nav-text">final</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#enum-%E6%9E%9A%E4%B8%BE"><span class="toc-nav-number">11.</span> <span class="toc-nav-text">enum 枚举</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Exception-%E5%BC%82%E5%B8%B8"><span class="toc-nav-number">12.</span> <span class="toc-nav-text">Exception 异常</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#String-%E7%B1%BB"><span class="toc-nav-number">13.</span> <span class="toc-nav-text">String 类</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%88%9B%E5%BB%BAString%E5%AF%B9%E8%B1%A1"><span class="toc-nav-number">13.1.</span> <span class="toc-nav-text">创建String对象</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#intern-%E6%96%B9%E6%B3%95"><span class="toc-nav-number">13.2.</span> <span class="toc-nav-text">intern() 方法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#String%E7%89%B9%E6%80%A7"><span class="toc-nav-number">13.3.</span> <span class="toc-nav-text">String特性</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#StringBuffer"><span class="toc-nav-number">13.4.</span> <span class="toc-nav-text">StringBuffer</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#StringBuffer-String"><span class="toc-nav-number">13.4.1.</span> <span class="toc-nav-text">StringBuffer -&gt; String</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#String-StringBuffer"><span class="toc-nav-number">13.4.2.</span> <span class="toc-nav-text">String -&gt; StringBuffer</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#StringBuilder"><span class="toc-nav-number">13.5.</span> <span class="toc-nav-text">StringBuilder</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%89%E8%80%85%E5%AF%B9%E6%AF%94"><span class="toc-nav-number">13.6.</span> <span class="toc-nav-text">三者对比</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Arrays-%E7%B1%BB"><span class="toc-nav-number">14.</span> <span class="toc-nav-text">Arrays 类</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#sort"><span class="toc-nav-number">14.1.</span> <span class="toc-nav-text">sort()</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#binarySearch"><span class="toc-nav-number">14.2.</span> <span class="toc-nav-text">binarySearch()</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#copyOf"><span class="toc-nav-number">14.3.</span> <span class="toc-nav-text">copyOf()</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#fill"><span class="toc-nav-number">14.4.</span> <span class="toc-nav-text">fill()</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#asList"><span class="toc-nav-number">14.5.</span> <span class="toc-nav-text">asList()</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#System-%E7%B1%BB"><span class="toc-nav-number">15.</span> <span class="toc-nav-text">System 类</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%A4%A7%E6%95%B0%E5%A4%84%E7%90%86"><span class="toc-nav-number">16.</span> <span class="toc-nav-text">大数处理</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#BigInteger"><span class="toc-nav-number">16.1.</span> <span class="toc-nav-text">BigInteger</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#BigDecimal"><span class="toc-nav-number">16.2.</span> <span class="toc-nav-text">BigDecimal</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#I-O"><span class="toc-nav-number">17.</span> <span class="toc-nav-text">I&#x2F;O</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#File%E7%B1%BB"><span class="toc-nav-number">17.1.</span> <span class="toc-nav-text">File类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#I-O-%E6%B5%81"><span class="toc-nav-number">17.2.</span> <span class="toc-nav-text">I&#x2F;O 流</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-nav-number">17.3.</span> <span class="toc-nav-text">字节流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#InputStream"><span class="toc-nav-number">17.3.1.</span> <span class="toc-nav-text">InputStream</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#FileInputStream"><span class="toc-nav-number">17.3.1.1.</span> <span class="toc-nav-text">FileInputStream</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#BufferedInputStream"><span class="toc-nav-number">17.3.1.2.</span> <span class="toc-nav-text">BufferedInputStream</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ObjectInputStream"><span class="toc-nav-number">17.3.1.3.</span> <span class="toc-nav-text">ObjectInputStream</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#OutputStream"><span class="toc-nav-number">17.3.2.</span> <span class="toc-nav-text">OutputStream</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#FileOutputStream"><span class="toc-nav-number">17.3.2.1.</span> <span class="toc-nav-text">FileOutputStream</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#BufferedOutputStream"><span class="toc-nav-number">17.3.2.2.</span> <span class="toc-nav-text">BufferedOutputStream</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ObjectOutputStream"><span class="toc-nav-number">17.3.2.3.</span> <span class="toc-nav-text">ObjectOutputStream</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-nav-number">17.4.</span> <span class="toc-nav-text">字符流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Reader"><span class="toc-nav-number">17.4.1.</span> <span class="toc-nav-text">Reader</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#FileReader"><span class="toc-nav-number">17.4.1.1.</span> <span class="toc-nav-text">FileReader</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#BufferedReader"><span class="toc-nav-number">17.4.1.2.</span> <span class="toc-nav-text">BufferedReader</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Writer"><span class="toc-nav-number">17.4.2.</span> <span class="toc-nav-text">Writer</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#FileWriter"><span class="toc-nav-number">17.4.2.1.</span> <span class="toc-nav-text">FileWriter</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#BufferedWriter"><span class="toc-nav-number">17.4.2.2.</span> <span class="toc-nav-text">BufferedWriter</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-nav-number">17.5.</span> <span class="toc-nav-text">序列化和反序列化</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ObjectInputStream-2"><span class="toc-nav-number">17.5.1.</span> <span class="toc-nav-text">ObjectInputStream</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ObjectOutputStream-2"><span class="toc-nav-number">17.5.2.</span> <span class="toc-nav-text">ObjectOutputStream</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-nav-number">17.6.</span> <span class="toc-nav-text">标准输入输出流</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#InputStream-2"><span class="toc-nav-number">17.6.1.</span> <span class="toc-nav-text">InputStream</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#PrintStream"><span class="toc-nav-number">17.6.2.</span> <span class="toc-nav-text">PrintStream</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D%E5%AE%9E%E6%88%98"><span class="toc-nav-number">17.7.</span> <span class="toc-nav-text">文件拷贝实战</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Properties-%E7%B1%BB"><span class="toc-nav-number">18.</span> <span class="toc-nav-text">Properties 类</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">19.</span> <span class="toc-nav-text">线程</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%9C%BA%E5%88%B6"><span class="toc-nav-number">19.1.</span> <span class="toc-nav-text">多线程机制</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">19.2.</span> <span class="toc-nav-text">创建线程</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%90%AF%E5%8A%A8%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">19.3.</span> <span class="toc-nav-text">启动线程</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BB%88%E6%AD%A2%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">19.4.</span> <span class="toc-nav-text">终止线程</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-nav-number">19.5.</span> <span class="toc-nav-text">常用方法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-nav-number">19.6.</span> <span class="toc-nav-text">用户线程和守护线程</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-nav-number">19.7.</span> <span class="toc-nav-text">生命周期</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6"><span class="toc-nav-number">19.8.</span> <span class="toc-nav-text">线程同步机制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%BA%92%E6%96%A5%E9%94%81"><span class="toc-nav-number">19.8.1.</span> <span class="toc-nav-text">互斥锁</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E7%BA%BF%E7%A8%8B%E6%AD%BB%E9%94%81"><span class="toc-nav-number">19.8.2.</span> <span class="toc-nav-text">线程死锁</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%87%8A%E6%94%BE%E9%94%81"><span class="toc-nav-number">19.8.3.</span> <span class="toc-nav-text">释放锁</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-nav-number">20.</span> <span class="toc-nav-text">网络编程</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#ip%E5%9C%B0%E5%9D%80"><span class="toc-nav-number">20.1.</span> <span class="toc-nav-text">ip地址</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#IPV4"><span class="toc-nav-number">20.2.</span> <span class="toc-nav-text">IPV4</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%9F%9F%E5%90%8D"><span class="toc-nav-number">20.3.</span> <span class="toc-nav-text">域名</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E7%AB%AF%E5%8F%A3"><span class="toc-nav-number">20.4.</span> <span class="toc-nav-text">端口</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#TCP-IP-%E5%8D%8F%E8%AE%AE"><span class="toc-nav-number">20.5.</span> <span class="toc-nav-text">TCP&#x2F;IP 协议</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#TCP-UDP"><span class="toc-nav-number">20.6.</span> <span class="toc-nav-text">TCP&#x2F;UDP</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#InetAddress%E7%B1%BB"><span class="toc-nav-number">20.7.</span> <span class="toc-nav-text">InetAddress类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Socket"><span class="toc-nav-number">20.8.</span> <span class="toc-nav-text">Socket</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-nav-number">21.</span> <span class="toc-nav-text">数据结构</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-nav-number">21.1.</span> <span class="toc-nav-text">数据结构的分类</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%9B%86%E5%90%88"><span class="toc-nav-number">21.2.</span> <span class="toc-nav-text">集合</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#List"><span class="toc-nav-number">21.2.1.</span> <span class="toc-nav-text">List</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ArrayList"><span class="toc-nav-number">21.2.1.1.</span> <span class="toc-nav-text">ArrayList</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ArrayList%E3%80%81LinkedList-%E5%92%8C-Vector-%E5%8C%BA%E5%88%AB"><span class="toc-nav-number">21.2.1.2.</span> <span class="toc-nav-text">ArrayList、LinkedList 和 Vector 区别</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Set"><span class="toc-nav-number">21.2.2.</span> <span class="toc-nav-text">Set</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#HashSet"><span class="toc-nav-number">21.2.2.1.</span> <span class="toc-nav-text">HashSet</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Map"><span class="toc-nav-number">21.2.3.</span> <span class="toc-nav-text">Map</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#HashMap"><span class="toc-nav-number">21.2.3.1.</span> <span class="toc-nav-text">HashMap</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Tree-%E6%A0%91"><span class="toc-nav-number">21.3.</span> <span class="toc-nav-text">Tree 树</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-nav-number">21.3.1.</span> <span class="toc-nav-text">平衡二叉树</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91"><span class="toc-nav-number">21.3.2.</span> <span class="toc-nav-text">二叉查找树</span></a></li></ol></li></ol></li></ol>
        
        </div>
      </aside>
    



      <!-- Sidebar Container -->
      <div class="
                col-lg-8 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

        <!-- Featured Tags -->
        
        <section>
          <!-- no hr -->
          <h5>
            <a href="/tags/">特色标签</a>
          </h5>
          <div class="tags">
            
            <a class="tag" href="/tags/#java" title="java">java</a>
            
          </div>
        </section>
        

        <!-- Friends Blog -->
        
        <hr>
        <h5>链友</h5>
        <ul class="list-inline">

          
          <li>
            <a href="https://redamancyyou.github.io/" target="_blank">狗熊岭在逃熊二</a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</article>



<!-- anchorjs start -->
<!-- async load function -->
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script type="text/javascript">
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function(e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  };
</script>
<script type="text/javascript">
  //anchor-js, Doc:http://bryanbraun.github.io/anchorjs/
  async ("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js", function() {
    anchors.options = {
      visible: 'hover',
      placement: 'left',
      // icon: 'ℬ'
      icon: '❡'
    };
    anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
  });
</script>
<style>
  /* place left on bigger screen */
  @media all and (min-width: 800px) {
    .anchorjs-link {
      position: absolute;
      left: -0.75em;
      font-size: 1.1em;
      margin-top: -0.1em;
    }
  }
</style>

<!-- anchorjs end -->



		<!-- Footer (contains ThemeColor、viewer) -->
		<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          

          

          

          

          

          

          

          

        </ul>
        <p class="copyright text-muted">
          Copyright &copy;
          lidzknyy
          2022
          <br>
          Theme by
          <a target="_blank" rel="noopener" href="http://beantech.org">BeanTech</a>
          <span style="display: inline-block; margin: 0 5px;">
            <i class="fa fa-heart"></i>
          </span>
          re-Ported by
          <a target="_blank" rel="noopener" href="https://v-vincen.life/">Live My Life</a>
          |
          <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=V-Vincen&repo=V-Vincen.github.io&type=star&count=true"></iframe>
        </p>
      </div>
    </div>
  </div>
</footer>

<a id="rocket" href="#top" class=""></a>


  <!-- jQuery -->
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  <!-- Custom Theme JavaScript -->
  <script type="text/javascript" src="/js/hux-blog.min.js"></script>
  <!-- catalog -->
  <script async="true" type="text/javascript" src="/js/catalog.js"></script>
  <!-- totop(rocket) -->
  <script async="true" type="text/javascript" src="/js/totop.js"></script>

  
    <!-- Busuanzi JavaScript -->
    <script async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <!-- Scroll start -->
    <script async="async" type="text/javascript" src="/js/scroll.js"></script>
    <!-- Scroll end -->
  

  
    <!-- LangSelect start -->
    <script type="text/javascript" src="/js/langselect.js"></script>
    <!-- LangSelect end -->
  

  
    <!-- Mouseclick -->
    <script type="text/javascript" src="/js/mouseclick.js" content='The first step is as good as half over...,Laugh and grow fat...,Man proposes God disposes...,When all else is lost the future still remains...,Wasting time is robbing oneself...,Sharp tools make good work...,Cease to struggle and you cease to live...,A friend in need is a friend indeed...,Faith can move mountains...' color='#9933CC,#339933,#66CCCC,#FF99CC,#CCCCFF,#6666CC,#663399,#66CC99,#FF0033'></script>
  

  
    <!-- ribbon -->
    <script type="text/javascript" src="/js/ribbonDynamic.js"></script>
  

  






  <!-- viewer start -->
  <!-- viewer start (Picture preview) -->
  
    <script async="async" type="text/javascript" src="/js/viewer/viewer.min.js"></script>
    <script async="async" type="text/javascript" src="/js/viewer/pic-viewer.js"></script>
  

  <!-- viewer end -->


<script>
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function (e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  }

  // fastClick.js
  async ("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
    var $nav = document.querySelector("nav");
    if ($nav)
      FastClick.attach($nav);
    }
  )
</script>

<!-- Because of the native support for backtick-style fenced code blocks right within the Markdown is landed in Github Pages, From V1.6, There is no need for Highlight.js, so Huxblog drops it officially. -
https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0 - https://help.github.com/articles/creating-and-highlighting-code-blocks/ -->
<!-- <script> async ("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function () { hljs.initHighlightingOnLoad(); }) </script> <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet"> -->

<!-- jquery.tagcloud.js -->
<!-- <script> // only load tagcloud.js in tag.html if ($('#tag_cloud').length !== 0) { async ("https://github.com/lidzknyy/lidzknyy.github.io/js/jquery.tagcloud.js", function () { $.fn.tagcloud.defaults = { // size: { start: 1, end: 1, unit: 'em' }, color: {
start: '#bbbbee', end: '#0085a1' } }; $('#tag_cloud a').tagcloud(); }) } </script> -->


		<!-- Search -->
		
		<div class="popup search-popup local-search-popup">
  <span class="popup-btn-close">
    ESC
  </span>
  <div class="container">
    <div class="row">
      <!-- <div class="col-md-9 col-md-offset-1"> -->
      <div class="col-lg-9 col-lg-offset-1 col-md-10 col-md-offset-1 local-search-content">

        <div class="local-search-header clearfix">

          <div class="local-search-input-wrapper">
            <span class="search-icon">
              <i class="fa fa-search fa-lg" style="margin: 25px 10px 25px 20px;"></i>
            </span>
            <input autocomplete="off" placeholder="搜索..." type="text" id="local-search-input">
          </div>
        </div>
        <div id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>


  
    <script src="/js/ziploader.js"></script>
  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    // monitor main search box;
    var onPopupClose = function (e) {
      $('.popup').fadeOut(300);
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $('.popup').fadeIn(300);
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    // get search zip version
    $.get('/searchVersion.json?t=' + (+new Date()), function (res) {
      if (localStorage.getItem('searchVersion') !== res) {
        localStorage.setItem('searchVersion', res);
        initSearchJson();
      }
    });

    function initSearchJson() {
      initLoad(['/search.flv'], {
        loadOptions: {
          success: function (obj) {
            localStorage.setItem('searchJson', obj['search.json'])
          },
          error: function (e) {
            return console.log(e)
          }
        },
        returnOptions: {
          'json': TYPE_TEXT
        },
        mimeOptions: {
          'json': 'application/json'
        }
      })
    }
    // search function;
    var searchFunc = function (search_id, content_id) {
      'use strict';
      isfetched = true;
      var datas = JSON.parse(localStorage.getItem('searchJson'));
      // console.log(search_id)
      var input = document.getElementById(search_id);
      var resultContent = document.getElementById(content_id);
      var inputEventFunction = function () {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          // perform local searching
          datas.forEach(function (data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title
              ? data.title.trim()
              : '';
            var titleInLowerCase = title.toLowerCase();
            var content = data.content
              ? data.content.trim().replace(/<[^>]+>/g, "")
              : '';
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);

            var date = data.date;
            var dateTime = date.replace(/T/, " ").replace(/.000Z/, "");
            var imgUrl = data.header_img;
            


            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            keywords.forEach(function (keyword) {
              function getIndexByWord(word, text, caseSensitive) {
                var wordLen = word.length;
                if (wordLen === 0) {
                  return [];
                }
                var startPosition = 0,
                  position = [],
                  index = [];
                if (!caseSensitive) {
                  text = text.toLowerCase();
                  word = word.toLowerCase();
                }
                while ((position = text.indexOf(word, startPosition)) > -1) {
                  index.push({position: position, word: word});
                  startPosition = position + wordLen;
                }
                return index;
              }
              indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
              indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
            });
            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
              isMatch = true;
              hitCount = indexOfTitle.length + indexOfContent.length;
            }
            // show search results
            if (isMatch) {
              // sort index by position of keyword
              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });
              // merge hits into slices
              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;
                  // move to next position of hit
                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice};
              }
              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }
              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if (start < 0) {
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if (end > content.length) {
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }
              // sort slices in content by search text's count and hits' count
              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });
              // select top N slices in content
              var upperBound = parseInt('1');
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }
              // highlight title and content
              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }
              var resultItem = '';

              // if (slicesOfTitle.length != 0) {   resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>"; } else {   resultItem += "<li><a target='_blank' href='" +
              // articleUrl + "' class='search-result-title'>" + title + "</a>"; } slicesOfContent.forEach(function (slice) {   resultItem += "<a target='_blank' href='" + articleUrl + "'><p class=\"search-result\">" + highlightKeyword(content, slice) +
              // "...</p></a>"; }); resultItem += "</li>";

              if (slicesOfTitle.length != 0) {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</div><time class='search-result-date'>" + dateTime + "</time>";
              } else {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + title + "</div><time class='search-result-date'>" + dateTime + "</time>";
              }
              slicesOfContent.forEach(function (slice) {
                resultItem += "<p class=\"search-result-content\">" + highlightKeyword(content, slice) + "...</p>";
              });
              resultItem += "</div><div class='search-result-right'><img class='media-image' src='" + imgUrl + "' width='64px' height='48px'></img></div></a>";

              resultItems.push({item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length});
            }
          })
        };

        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<div class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</div>";
          resultContent.innerHTML = searchResultList;
        }
      }
      if ('auto' === 'auto') {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }
      // remove loading animation
      $('body').css('overflow', '');
      proceedsearch();
    }
    // handle and trigger popup window;
    $('.popup-trigger').click(function (e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc('local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });
    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function (e) {
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });

    document.addEventListener('mouseup', (e) => {
      var _con = document.querySelector(".local-search-content");
      if (_con) {
        if (!_con.contains(e.target)) {
          onPopupClose();
        }
      }
    });
  </script>


		
	</body>
</html>
